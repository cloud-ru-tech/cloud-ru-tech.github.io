import{j as e}from"./jsx-runtime-BTJTZTIL.js";import{c as g}from"./index-DUmpqB7p.js";import{r as i}from"./index-CJ_LmFaV.js";import{e as U,b as x}from"./componentPropsProcessors-UJEZy8aQ.js";import{T as _}from"./Typography-DmSN6cv6.js";import{B as Q}from"./ButtonFilled-BioftgjW.js";import{B as ie}from"./ButtonTonal-Bnr4eCkc.js";import{m as se}from"./index-B7wZyJkK.js";import{P as oe}from"./PromoTag-2TRKK9oy.js";import{C as ce}from"./index-DtRrUciF.js";import{I as de}from"./IconPredefined-DVxQYij_.js";import{T as N}from"./TruncateString-D54BiV_x.js";import{K as me}from"./index-CIcT2jya.js";import{u as pe}from"./useIsomorphicLayoutEffect-BAXQmlEq.js";import{D as _e}from"./DropList-B-yWszFZ.js";import{T as fe}from"./Tag-SYaj7e1D.js";const s={S:"s",M:"m",L:"l"},d={promoBadge:"card__promo-badge",functionBadge:"card__function-badge",droplist:"card__function-badge__droplist",check:"card__check",emblemPicture:"card__header__emblem-picture",emblemIcon:"card__header__emblem-icon",title:"card__header__title",description:"card__header__description",metadata:"card__header__metadata",anchor:"card__anchor"},ee=i.createContext({size:s.M,disabled:!1});function B(){return i.useContext(ee)}const ue=i.createContext({visible:!1,setVisible:()=>{}}),ye="_img_1lp7b_1",ge={img:ye};function ve(u){return"src"in u&&"alt"in u}function q(u){const{size:a}=B();return ve(u)?e.jsx("img",{src:u.src,alt:u.alt,"data-size":a||void 0,className:ge.img,"data-test-id":d.emblemPicture}):e.jsx(de,{icon:u.icon,appearance:u.appearance??"primary",decor:u.decor??!0,size:a,shape:u.shape??"round","data-test-id":d.emblemIcon})}try{q.displayName="Emblem",q.__docgenInfo={description:"",displayName:"Emblem",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},alt:{defaultValue:null,description:"",name:"alt",required:!0,type:{name:"string"}},shape:{defaultValue:null,description:"Форма: круглая или квадратная",name:"shape",required:!1,type:{name:"enum",value:[{value:'"round"'},{value:'"square"'}]}},appearance:{defaultValue:null,description:"Внешний вид",name:"appearance",required:!1,type:{name:"enum",value:[{value:'"neutral"'},{value:'"primary"'},{value:'"red"'},{value:'"orange"'},{value:'"yellow"'},{value:'"green"'},{value:'"blue"'},{value:'"violet"'},{value:'"pink"'}]}},icon:{defaultValue:null,description:"JSX иконки",name:"icon",required:!0,type:{name:"JSXElementConstructor<{ size?: number | undefined; className?: string | undefined; }>"}},decor:{defaultValue:null,description:"Наличие цветной подложки",name:"decor",required:!1,type:{name:"boolean"}}}}}catch{}const Ee="_promoBadge_bja6r_1",Be="_promoTag_bja6r_10",J={promoBadge:Ee,promoTag:Be};function k({text:u,appearance:a="primary"}){return e.jsx("div",{className:J.promoBadge,children:e.jsx(oe,{appearance:a,text:u,"data-test-id":d.promoBadge,className:J.promoTag})})}try{k.displayName="PromoBadge",k.__docgenInfo={description:"",displayName:"PromoBadge",props:{text:{defaultValue:null,description:"Текст компонента",name:"text",required:!1,type:{name:"string"}},appearance:{defaultValue:{value:"primary"},description:"Внешний вид",name:"appearance",required:!1,type:{name:"enum",value:[{value:'"neutral"'},{value:'"primary"'},{value:'"red"'},{value:'"orange"'},{value:'"yellow"'},{value:'"green"'},{value:'"blue"'},{value:'"violet"'},{value:'"pink"'}]}}}}}catch{}const be="_checkWrapper_vbrvn_1",De="_checkContainer_vbrvn_9",X={checkWrapper:be,checkContainer:De};function S({className:u}){return e.jsx("div",{className:X.checkWrapper,children:e.jsx("div",{className:g(X.checkContainer,u),"data-test-id":d.check,children:e.jsx(ce,{size:16})})})}try{S.displayName="Check",S.__docgenInfo={description:"",displayName:"Check",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const he="_functionBadge_g6ngd_1",Ce="_functionRow_g6ngd_10",Y={functionBadge:he,functionRow:Ce};function I({children:u,className:a,alwaysVisible:t}){const[n,r]=i.useState(!1),l=t?!0:n;return e.jsx(ue.Provider,{value:{visible:l,setVisible:r},children:e.jsx("div",{className:a,"data-visible":l||void 0,tabIndex:-1,children:e.jsx("div",{className:Y.functionBadge,children:e.jsx("div",{className:Y.functionRow,children:u})})})})}try{I.displayName="FunctionBadgeWrapper",I.__docgenInfo={description:"",displayName:"FunctionBadgeWrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},alwaysVisible:{defaultValue:null,description:"",name:"alwaysVisible",required:!1,type:{name:"boolean"}}}}}catch{}const xe=["Enter","Space"],Ae="_functionBadgeWrapper_jevck_1",Ve="_composition_jevck_13",Ne="_contentWrapper_jevck_19",Fe="_card_jevck_24",je="_check_jevck_64",qe="_anchor_jevck_142",ke="_body_jevck_153",Se="_content_jevck_19",Ie="_footer_jevck_185",p={functionBadgeWrapper:Ae,composition:Ve,contentWrapper:Ne,card:Fe,check:je,anchor:qe,body:ke,content:Se,footer:Ie},P=i.forwardRef(({onClick:u,disabled:a=!1,checked:t,outline:n,multipleSelection:r=!1,size:l=s.M,children:y,header:f,footer:m,functionBadge:o,promoBadge:c,image:b,className:ae,href:D,onKeyDown:h,name:H,badgeAlwaysVisible:te,...ne},re)=>{const V=i.useRef(null),O=i.useRef(null),le=i.useCallback(C=>{var K,Z;C.target===V.current&&((xe.includes(C.code)||C.key===" ")&&(D?(K=O.current)==null||K.click():(Z=V.current)==null||Z.click()),h==null||h(C))},[D,h]),G=U(ne);return e.jsx(ee.Provider,{value:{size:l,disabled:a},children:e.jsxs("div",{ref:se(re,V),className:g(p.card,ae),...G,onClick:u,"data-disabled":a||void 0,"data-checked":t||void 0,"data-outline":n||void 0,"data-pointer":u?!0:void 0,tabIndex:0,onKeyDown:le,children:[b,e.jsxs("div",{className:p.composition,tabIndex:-1,children:[D&&e.jsx("a",{ref:O,"data-test-id":d.anchor,tabIndex:-1,href:D,className:p.anchor,"aria-label":G["aria-label"]}),!a&&o&&e.jsx(I,{alwaysVisible:te,className:p.functionBadgeWrapper,children:o}),e.jsx("div",{className:p.contentWrapper,children:e.jsxs("div",{className:p.content,"data-size":l,children:[f||null,y&&e.jsx(_,{family:"sans",size:l,purpose:"body",className:p.body,tag:"div",children:y}),m&&e.jsx("div",{className:p.footer,children:m})]})}),c&&e.jsx(k,{...typeof c=="string"?{text:c}:c})]}),t&&r&&e.jsx(S,{className:p.check}),H&&e.jsx("input",{name:H,type:"checkbox",checked:t,style:{display:"none"}})]})})});try{P.displayName="Card",P.__docgenInfo={description:"",displayName:"Card",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Управление состоянием интерактивности",name:"disabled",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"Управление состоянием выбран/не выбран",name:"checked",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя инпута в dom-дереве",name:"name",required:!1,type:{name:"string"}},outline:{defaultValue:null,description:"Управление состоянием наличия обводки",name:"outline",required:!1,type:{name:"boolean"}},multipleSelection:{defaultValue:{value:"false"},description:"Отображение галочки для режима массового выделения карточек",name:"multipleSelection",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Колбек на клик по карточке",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLAnchorElement | HTMLDivElement, MouseEvent>) => void)"}},size:{defaultValue:{value:"m"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},promoBadge:{defaultValue:null,description:"PromoBadge",name:"promoBadge",required:!1,type:{name:'string | Pick<PromoTagProps, "text" | "appearance">'}},children:{defaultValue:null,description:"Вложенный контент",name:"children",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"Вложенный Header",name:"header",required:!1,type:{name:"ReactElement<HeaderProps, string | JSXElementConstructor<any>>"}},footer:{defaultValue:null,description:"Вложенный Footer",name:"footer",required:!1,type:{name:"ReactNode"}},image:{defaultValue:null,description:"Вложенный Image",name:"image",required:!1,type:{name:"ReactNode"}},functionBadge:{defaultValue:null,description:"Вложенный FunctionBadge",name:"functionBadge",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"CSS-класс для элемента с контентом",name:"className",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"Ссылка карточки",name:"href",required:!1,type:{name:"string"}},badgeAlwaysVisible:{defaultValue:null,description:"Всегда показывать FunctionBadge",name:"badgeAlwaysVisible",required:!1,type:{name:"boolean"}},onKeyDown:{defaultValue:null,description:"Колбек нажатия клавиши клавиатуры",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLDivElement>"}}}}}catch{}const Pe={[s.S]:"m",[s.M]:"m",[s.L]:"l"},Te="_wrapper_axh80_1",we="_valueContainer_axh80_9",ze="_currentValue_axh80_17",Re="_oldValue_axh80_21",Le="_dimension_axh80_25",v={wrapper:Te,valueContainer:we,currentValue:ze,oldValue:Re,dimension:Le};function T({dimension:u,currentValue:a,oldValue:t,size:n}){const{size:r}=B(),l=Pe[n||r];return e.jsxs("div",{className:v.wrapper,children:[u&&e.jsx(_,{purpose:"title",family:"sans",size:l,className:v.dimension,children:u}),e.jsxs("div",{className:v.valueContainer,children:[e.jsx(_,{purpose:"title",family:"sans",size:l,className:v.currentValue,children:a}),t&&e.jsx(_.CrossedOutBodyS,{className:v.oldValue,children:t})]})]})}try{T.displayName="Dimension",T.__docgenInfo={description:"",displayName:"Dimension",props:{dimension:{defaultValue:null,description:"Единица измерения",name:"dimension",required:!1,type:{name:"string"}},currentValue:{defaultValue:null,description:"Текущее значение",name:"currentValue",required:!0,type:{name:"string"}},oldValue:{defaultValue:null,description:"Старое значение",name:"oldValue",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}}}}}catch{}const Me="_promo_28lvi_1",We={promo:Me};function w({volume:u,button:a,className:t,size:n,...r}){const{disabled:l}=B();return e.jsxs("div",{className:g(We.promo,t),...x(r),children:[a&&e.jsx(Q,{...a,appearance:"primary",size:"m",disabled:l}),u&&e.jsx(T,{...u,size:n})]})}try{w.displayName="FooterPromo",w.__docgenInfo={description:"",displayName:"FooterPromo",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},volume:{defaultValue:null,description:"Параметры для блока значений",name:"volume",required:!1,type:{name:"DimensionProps"}},button:{defaultValue:null,description:"Параметры для основной кнопки",name:"button",required:!1,type:{name:'Pick<ButtonFilledProps, "onClick" | "label" | "icon" | "loading">'}},className:{defaultValue:null,description:"CSS-класс для элемента с контентом",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}}}}}catch{}const $e="_action_16sgm_1",He={action:$e};function z({button:u,secondaryButton:a,className:t,...n}){const{disabled:r}=B();return e.jsxs("div",{className:g(He.action,t),...x(n),children:[e.jsx(Q,{...u,appearance:"primary",size:"m",disabled:r}),a&&e.jsx(ie,{...a,appearance:"neutral",size:"m",disabled:r})]})}try{z.displayName="FooterAction",z.__docgenInfo={description:"",displayName:"FooterAction",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},button:{defaultValue:null,description:"Параметры для основной кнопки",name:"button",required:!0,type:{name:'Pick<ButtonFilledProps, "onClick" | "label" | "icon" | "loading">'}},secondaryButton:{defaultValue:null,description:"Параметры для вторичной кнопки",name:"secondaryButton",required:!1,type:{name:'Pick<ButtonTonalProps, "onClick" | "label" | "icon" | "loading">'}},className:{defaultValue:null,description:"CSS-класс для элемента с контентом",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Oe="_callToAction_otvug_1",Ge="_icon_otvug_9",Ke="_label_otvug_20",F={callToAction:Oe,icon:Ge,label:Ke};function R({label:u,icon:a,className:t,...n}){return e.jsxs("div",{className:g(F.callToAction,t),...x(n),children:[e.jsx(_.SansLabelL,{className:F.label,children:u}),e.jsx("span",{className:F.icon,children:a})]})}try{R.displayName="FooterCallToAction",R.__docgenInfo={description:"",displayName:"FooterCallToAction",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл",name:"label",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"CSS-класс для элемента с контентом",name:"className",required:!1,type:{name:"string"}}}}}catch{}var L;(u=>{u.Promo=w,u.Action=z,u.CallToAction=R})(L||(L={}));const Ze="_button_3kl0r_1",Je="_wrapper_3kl0r_37",Xe="_item_3kl0r_41",j={button:Ze,wrapper:Je,item:Xe};function M({icon:u,options:a}){const[t,n]=i.useState(!1),r=i.useRef(null),{setVisible:l}=i.useContext(ue);pe(()=>{l&&l(t)},[t,l]);const y=i.useCallback(f=>{f.stopPropagation(),n(m=>!m)},[]);return e.jsx("span",{className:j.wrapper,children:e.jsx(_e,{trigger:"clickAndFocusVisible",open:t,onOpenChange:n,widthStrategy:"gte",scroll:!0,"data-test-id":d.droplist,placement:"bottom-end",triggerElemRef:r,items:a.map(({icon:f,tagLabel:m,onClick:o,...c})=>({...c,className:j.item,beforeContent:f,afterContent:m?e.jsx(fe,{label:m}):void 0,onClick:b=>{b.stopPropagation(),n(!1),o==null||o(b)}})),children:e.jsx("button",{type:"button","data-test-id":d.functionBadge,className:j.button,onClick:y,ref:r,children:u||e.jsx(me,{})})})})}try{M.displayName="FunctionBadge",M.__docgenInfo={description:"",displayName:"FunctionBadge",props:{icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},options:{defaultValue:null,description:"Вложенные опции",name:"options",required:!0,type:{name:"Option[]"}}}}}catch{}const Ye={[s.S]:"s",[s.M]:"m",[s.L]:"l"},Ue={[s.S]:"m",[s.M]:"m",[s.L]:"l"},Qe={title:1,description:2,metadata:1},eu="_titleLayout_1w24e_1",uu="_contentLayout_1w24e_17",au="_title_1w24e_1",tu="_metadata_1w24e_29",nu="_description_1w24e_34",E={titleLayout:eu,contentLayout:uu,title:au,metadata:tu,description:nu};function W({title:u,description:a,metadata:t,truncate:n,emblem:r,className:l,size:y,...f}){const{size:m}=B(),o=y||m,c={...Qe,...n};return e.jsxs("div",{className:g(E.titleLayout,l),...x(f),"data-size":o,children:[r&&e.jsx(q,{...r}),e.jsxs("div",{className:E.contentLayout,children:[e.jsx(_,{family:"sans",size:Ye[o],purpose:"title",className:E.title,"data-test-id":d.title,children:e.jsx(N,{variant:"end",maxLines:c.title,text:u})}),t&&e.jsx(_.SansBodyS,{className:E.metadata,children:e.jsx(N,{variant:"end",maxLines:c.metadata,text:t,"data-test-id":d.metadata})}),a&&e.jsx(_,{family:"sans",size:Ue[o],purpose:"body",className:E.description,children:e.jsx(N,{variant:"end",maxLines:c.description,text:a,"data-test-id":d.description})})]})]})}try{W.displayName="Header",W.__docgenInfo={description:"",displayName:"Header",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"Заголовок",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"Подзаголовок",name:"description",required:!1,type:{name:"string"}},metadata:{defaultValue:null,description:"Метаинформация",name:"metadata",required:!1,type:{name:"string"}},truncate:{defaultValue:{value:"'{ <br>title: 1; <br>description: 2; <br>metadata: 1; }'"},description:"Максимальное кол-во строк\n<br> - `title` - в заголовке\n<br> - `description` - в описании\n<br> - `metadata` - в подзаголовке",name:"truncate",required:!1,type:{name:"{ title?: number; description?: number; metadata?: number | undefined; } | undefined"}},emblem:{defaultValue:null,description:"Эмблема иконка/картинка",name:"emblem",required:!1,type:{name:"EmblemProps"}},className:{defaultValue:null,description:"CSS-класс для элемента с контентом",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}}}}}catch{}const ru={Little:"little",Middle:"middle",Background:"background"},lu="_image_13h9q_1",iu={image:lu};function $({src:u,alt:a,mode:t=ru.Little,hideFading:n,...r}){return e.jsx("img",{...U(r),src:u,alt:a,"data-mode":t,className:iu.image,"data-fading":!n||void 0})}try{$.displayName="Image",$.__docgenInfo={description:"",displayName:"Image",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},src:{defaultValue:null,description:"Путь до картинки",name:"src",required:!0,type:{name:"string"}},alt:{defaultValue:null,description:"Описание картинки",name:"alt",required:!0,type:{name:"string"}},mode:{defaultValue:{value:"little"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"middle"'},{value:'"little"'},{value:'"background"'}]}},hideFading:{defaultValue:null,description:"",name:"hideFading",required:!1,type:{name:"boolean"}}}}}catch{}const A=P;A.Header=W;A.Footer=L;A.Image=$;A.FunctionBadge=M;export{A as C,ru as M};
