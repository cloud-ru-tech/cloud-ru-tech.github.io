import{j as c}from"./jsx-runtime-BTJTZTIL.js";import{c as Y}from"./index-DUmpqB7p.js";import{c as j,g as de}from"./_commonjsHelpers-D6-XlEtG.js";import{r as v}from"./index-CJ_LmFaV.js";import{u as ce}from"./useIsomorphicLayoutEffect-BAXQmlEq.js";import{e as Z}from"./componentPropsProcessors-UJEZy8aQ.js";import{T as ee}from"./Tooltip-DzAF_V2U.js";var k,K;function fe(){if(K)return k;K=1;var u="Expected a function",r=NaN,f="[object Symbol]",p=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,D=/^0o[0-7]+$/i,h=parseInt,n=typeof j=="object"&&j&&j.Object===Object&&j,m=typeof self=="object"&&self&&self.Object===Object&&self,b=n||m||Function("return this")(),i=Object.prototype,T=i.toString,C=Math.max,_=Math.min,A=function(){return b.Date.now()};function te(e,a,l){var d,g,H,F,s,x,B=0,z=!1,V=!1,I=!0;if(typeof e!="function")throw new TypeError(u);a=P(a)||0,q(l)&&(z=!!l.leading,V="maxWait"in l,H=V?C(P(l.maxWait)||0,a):H,I="trailing"in l?!!l.trailing:I);function M(t){var E=d,N=g;return d=g=void 0,B=t,F=e.apply(N,E),F}function ne(t){return B=t,s=setTimeout(S,a),z?M(t):F}function ie(t){var E=t-x,N=t-B,J=a-E;return V?_(J,H-N):J}function U(t){var E=t-x,N=t-B;return x===void 0||E>=a||E<0||V&&N>=H}function S(){var t=A();if(U(t))return X(t);s=setTimeout(S,ie(t))}function X(t){return s=void 0,I&&d?M(t):(d=g=void 0,F)}function se(){s!==void 0&&clearTimeout(s),B=0,d=x=g=s=void 0}function oe(){return s===void 0?F:X(A())}function O(){var t=A(),E=U(t);if(d=arguments,g=this,x=t,E){if(s===void 0)return ne(x);if(V)return s=setTimeout(S,a),M(x)}return s===void 0&&(s=setTimeout(S,a)),F}return O.cancel=se,O.flush=oe,O}function ae(e,a,l){var d=!0,g=!0;if(typeof e!="function")throw new TypeError(u);return q(l)&&(d="leading"in l?!!l.leading:d,g="trailing"in l?!!l.trailing:g),te(e,a,{leading:d,maxWait:a,trailing:g})}function q(e){var a=typeof e;return!!e&&(a=="object"||a=="function")}function re(e){return!!e&&typeof e=="object"}function le(e){return typeof e=="symbol"||re(e)&&T.call(e)==f}function P(e){if(typeof e=="number")return e;if(le(e))return r;if(q(e)){var a=typeof e.valueOf=="function"?e.valueOf():e;e=q(a)?a+"":a}if(typeof e!="string")return e===0?e:+e;e=e.replace(p,"");var l=y.test(e);return l||D.test(e)?h(e.slice(2),l?2:8):o.test(e)?r:+e}return k=ae,k}var pe=fe();const ue=de(pe),G=u=>u?u.offsetHeight<u.scrollHeight||u.offsetWidth<u.scrollWidth:!1,me=[{potentialDelimiterWidth:.5,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:.5,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:0,rightHalfDelta:.5},{potentialDelimiterWidth:2,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:2,leftHalfDelta:1,rightHalfDelta:0},{potentialDelimiterWidth:2,leftHalfDelta:0,rightHalfDelta:1},{potentialDelimiterWidth:3,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:3,leftHalfDelta:1,rightHalfDelta:0},{potentialDelimiterWidth:3,leftHalfDelta:0,rightHalfDelta:1},{potentialDelimiterWidth:4,leftHalfDelta:0,rightHalfDelta:0}],ge="...",ve=({text:u,element:r,truncatedElement:f})=>{if(r&&f&&G(r)){const p=r.scrollWidth/u.length;let o=u;for(const{potentialDelimiterWidth:y,leftHalfDelta:D,rightHalfDelta:h}of me){const n=Math.floor((r.offsetWidth/p-y)/2),m=u.slice(0,n-D),b=u.slice(u.length-n+h,u.length);if(o=`${m}${ge}${b}`,f.innerText=o,f.scrollWidth<=r.offsetWidth-1)break}return o}return u},he="_wrapper_9yryq_1",Ee="_truncatedText_9yryq_10",ye="_fullText_9yryq_20",De="_textContainer_9yryq_29",W={wrapper:he,truncatedText:Ee,fullText:ye,textContainer:De};function w({text:u,className:r,tooltipClassName:f,hideTooltip:p,placement:o,trigger:y,...D}){const[h,n]=v.useState(!1),[m,b]=v.useState(u),i=v.useRef(null),T=v.useRef(null);v.useEffect(()=>{const _=ue(()=>{b(ve({element:i.current,truncatedElement:T.current,text:u})),n(G(i.current))},50);_();const A=new ResizeObserver(_);return i.current&&A.observe(i.current),()=>{A.disconnect()}},[h,u,p]);const C=c.jsxs(c.Fragment,{children:[c.jsx("span",{ref:i,className:W.fullText,"data-test-id":"full-text",children:u}),c.jsx("span",{ref:T,className:W.truncatedText,"data-test-id":"truncated-text",children:m})]});return c.jsx("span",{className:Y(W.wrapper,r),...Z(D),children:h&&!p?c.jsx(ee,{tip:u,placement:o,hoverDelayOpen:500,triggerClassName:W.textContainer,className:f,trigger:y,children:C}):C})}try{w.displayName="TruncateStringMiddle",w.__docgenInfo={description:"",displayName:"TruncateStringMiddle",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"",name:"hideTooltip",required:!1,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"hover"'},{value:'"click"'},{value:'"focusVisible"'},{value:'"focus"'},{value:'"hoverAndFocusVisible"'},{value:'"hoverAndFocus"'},{value:'"clickAndFocusVisible"'}]}}}}}catch{}const be="_text1Line_2nt08_1",Te="_ellipsis_2nt08_9",_e="_text2AndMoreLines_2nt08_13",xe="_tooltipTrigger_2nt08_24",L={text1Line:be,ellipsis:Te,text2AndMoreLines:_e,tooltipTrigger:xe};function $({text:u,className:r,tooltipClassName:f,hideTooltip:p,maxLines:o=1,placement:y,trigger:D,...h}){const n=v.useRef(null),[m,b]=v.useState(!1),i=v.useCallback(()=>{b(G(n.current))},[]);ce(()=>{n.current&&i()},[u,i]),v.useEffect(()=>{const C=ue(()=>{i()},50),_=new ResizeObserver(C);return n.current&&(i(),_.observe(n.current)),()=>{_.disconnect()}},[m,p,i]);const T=c.jsx("span",{ref:n,className:Y(o>1?L.text2AndMoreLines:L.text1Line,r,{[L.ellipsis]:!n.current||m}),style:{"--max-lines":o},...Z(h),children:u});return m&&!p?c.jsx(ee,{tip:u,placement:y,hoverDelayOpen:500,className:f,triggerClassName:L.tooltipTrigger,trigger:D,children:T}):T}try{$.displayName="TruncateStringEnd",$.__docgenInfo={description:"",displayName:"TruncateStringEnd",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"Скрывать ли тултип с полным текстом",name:"hideTooltip",required:!1,type:{name:"boolean"}},maxLines:{defaultValue:{value:"1"},description:"Максимальное кол-во строк, до которого может сворачиваться текст.",name:"maxLines",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"Положение тултипа относительно обрезанного текста.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"Текст, который будет обрезаться",name:"text",required:!0,type:{name:"string"}},trigger:{defaultValue:null,description:"Условие отображения тултипа",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"hover"'},{value:'"click"'},{value:'"focusVisible"'},{value:'"focus"'},{value:'"hoverAndFocusVisible"'},{value:'"hoverAndFocus"'},{value:'"clickAndFocusVisible"'}]}}}}}catch{}const R={Middle:"middle",End:"end"};function Q({variant:u=R.End,...r}){switch(u){case R.Middle:return c.jsx(w,{...r});case R.End:default:return c.jsx($,{...r})}}try{Q.displayName="TruncateString",Q.__docgenInfo={description:"",displayName:"TruncateString",props:{variant:{defaultValue:{value:"end"},description:"Вариант обрезания строки: <br> - `End` - с конца\n<br> - `Middle` - по середине",name:"variant",required:!1,type:{name:"enum",value:[{value:'"middle"'},{value:'"end"'}]}},"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"Скрывать ли тултип с полным текстом",name:"hideTooltip",required:!1,type:{name:"boolean"}},maxLines:{defaultValue:null,description:"Максимальное кол-во строк, до которого может сворачиваться текст.",name:"maxLines",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"Положение тултипа относительно обрезанного текста.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"Текст, который будет обрезаться",name:"text",required:!0,type:{name:"string"}},trigger:{defaultValue:null,description:"Условие отображения тултипа",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"hover"'},{value:'"click"'},{value:'"focusVisible"'},{value:'"focus"'},{value:'"hoverAndFocusVisible"'},{value:'"hoverAndFocus"'},{value:'"clickAndFocusVisible"'}]}}}}}catch{}export{Q as T,R as V};
