import{j as l}from"./jsx-runtime-BTJTZTIL.js";import{m as bu}from"./index-B7wZyJkK.js";import{r as n}from"./index-CJ_LmFaV.js";import{S as Nu}from"./constants-9uwKbtvo.js";import{F as Tu,g as Mu,V as Su}from"./FieldDecorator-C88E8mRp.js";import{u as Ru}from"./index-JZGyZbA2.js";import{D as Lu}from"./DropList-BChiCH8J.js";import{c as Pu}from"./index-DUmpqB7p.js";import{g as ju}from"./getArrowIcon-CMCEz6is.js";import{D as uu}from"./Divider-C1X9zrkx.js";import{u as Ou}from"./useValueControl-C51frgGe.js";import{u as ku}from"./useClearButton-CFmx5Mk4.js";import{u as zu}from"./useCopyButton-BRHrjF_j.js";import{u as Ku,a as Ju}from"./usePrefix-CWfsp2Rm.js";import{u as Xu}from"./useButtonNavigation-CVCsehRW.js";import{e as $u}from"./componentPropsProcessors-UJEZy8aQ.js";import{F as Uu}from"./FieldContainerPrivate-Cy1IVWJM.js";import{I as Zu}from"./InputPrivate-CMdU0e69.js";const Gu="_buttonField_14uo1_1",Qu="_divider_14uo1_89",Wu="_content_14uo1_94",D={buttonField:Gu,divider:Qu,content:Wu},C=n.forwardRef(({size:e,tabIndex:u=0,onClick:s,onKeyDown:m,onFocus:o,onBlur:t,disabled:a,content:f,hasArrow:d=!1,arrowOpen:c=!1,variant:p,className:B},y)=>{const{ArrowIcon:F,arrowIconSize:E}=ju({open:c,size:"m"});return l.jsxs("button",{className:Pu(B,D.buttonField),"data-size":e,"data-variant":p,"data-arrow-open":c||void 0,"data-disabled":a||void 0,onClick:a?void 0:s,onKeyDown:a?void 0:m,onFocus:a?void 0:o,onBlur:a?void 0:t,"data-test-id":"button-field",ref:y,tabIndex:u,type:"button",disabled:a,children:[p==="after"&&l.jsx(uu,{orientation:"vertical",className:D.divider}),l.jsx("div",{className:D.content,children:f}),d&&l.jsx(F,{size:E}),p==="before"&&l.jsx(uu,{orientation:"vertical",className:D.divider})]})});try{C.displayName="ButtonField",C.__docgenInfo={description:"",displayName:"ButtonField",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLButtonElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},hasArrow:{defaultValue:{value:"false"},description:"",name:"hasArrow",required:!1,type:{name:"boolean"}},arrowOpen:{defaultValue:{value:"false"},description:"",name:"arrowOpen",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function b({variant:e}){if(e==="before")return"bottom-start";if(e==="after")return"bottom-end"}try{b.displayName="getPlacement",b.__docgenInfo={description:"",displayName:"getPlacement",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}}}}}catch{}const Yu="_triggerClassName_gujln_1",ue={triggerClassName:Yu},N=n.forwardRef(({items:e,selection:u,open:s,onOpenChange:m,search:o,scroll:t,...a},f)=>{const[d,c]=Ru(s,!1,m),p=b(a);return l.jsx(Lu,{"data-test-id":"button-field-list",items:e,selection:{mode:"single",...u},open:d,onOpenChange:c,closeDroplistOnItemClick:!0,search:o,scroll:t,triggerElemRef:f,size:a.size,placement:p,children:l.jsx(C,{...a,hasArrow:!0,arrowOpen:d,className:ue.triggerClassName})})});try{N.displayName="ButtonFieldList",N.__docgenInfo={description:"",displayName:"ButtonFieldList",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"ReactNode"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLButtonElement>"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},search:{defaultValue:null,description:"Настройки поисковой строки",name:"search",required:!1,type:{name:"SearchState"}},items:{defaultValue:null,description:"Основные элементы списка",name:"items",required:!0,type:{name:"Item[]"}},open:{defaultValue:null,description:"Управляет состоянием показан/не показан.",name:"open",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Колбек отображения компонента. Срабатывает при изменении состояния open.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:'Omit<SelectionSingleState, "mode">'}}}}}catch{}function _({variant:e,button:u,icon:s,size:m,disabled:o,readonly:t,type:a,onFocus:f,onBlur:d}){const c=n.useRef(null),p=n.useMemo(()=>({id:`${a}Icon`,active:!1,show:!!(s&&!u),render:()=>l.jsx(l.Fragment,{children:s})}),[u,s,a]),B=n.useMemo(()=>({id:`${a}Button`,active:!1,show:!!(u&&u.variant===e),render:y=>{const F={...y,variant:e,size:m,content:u==null?void 0:u.content,disabled:o||t,onFocus:f,onBlur:d};if(u!=null&&u.items)return l.jsx(N,{...F,ref:c,onClick:()=>{setTimeout(()=>{var q;return(q=c.current)==null?void 0:q.focus()},0)},search:u.search,items:u.items,selection:u.selection,open:u.open,scroll:u.scroll,onOpenChange:u.onOpenChange});const E=l.jsx(C,{...F,hasArrow:u==null?void 0:u.hasArrow,arrowOpen:u==null?void 0:u.arrowOpen});return u!=null&&u.wrapper?u.wrapper(E):E}}),[a,u,e,m,o,t,f,d]);return u?B:p}try{_.displayName="useAddonButton",_.__docgenInfo={description:"",displayName:"useAddonButton",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"prefix"'},{value:'"postfix"'}]}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}}}}}catch{}function T({postfixIcon:e,...u}){return _({...u,icon:e,type:"postfix",variant:"after"})}try{T.displayName="usePostfixButton",T.__docgenInfo={description:"",displayName:"usePostfixButton",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},postfixIcon:{defaultValue:null,description:"",name:"postfixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}function M({prefixIcon:e,...u}){return _({...u,icon:e,type:"prefix",variant:"before"})}try{M.displayName="usePrefixButton",M.__docgenInfo={description:"",displayName:"usePrefixButton",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"",name:"prefixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}function S({button:e}){return(e==null?void 0:e.variant)==="before"?"single-line-container-button-before":(e==null?void 0:e.variant)==="after"?"single-line-container-button-after":"single-line-container"}try{S.displayName="getContainerVariant",S.__docgenInfo={description:"",displayName:"getContainerVariant",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}}}}}catch{}const eu=n.forwardRef(({id:e,name:u,value:s,placeholder:m,maxLength:o,disabled:t=!1,readonly:a=!1,showCopyButton:f=!0,showClearButton:d=!0,allowMoreThanMaxLength:c=!1,onChange:p,onFocus:B,onBlur:y,onCopyButtonClick:F,onClearButtonClick:E,className:q,label:au,labelTooltip:nu,labelTooltipPlacement:tu,required:lu=!1,caption:ru,hint:ou,showHintIcon:iu,size:v=Nu.S,validationState:su=Su.Default,error:R,autoComplete:du,autoFocus:cu,prefixIcon:pu,prefix:h,postfix:x,button:V,onPaste:mu,onKeyDown:w,type:fu="text",inputMode:Eu,spellCheck:Bu,...yu},vu)=>{const[A="",L]=Ou({value:s,defaultValue:"",onChange:p}),g=n.useRef(null),P=n.useRef(null),Fu=n.useRef(null),j=!!(A&&!t),Vu=d&&j&&!a,gu=f&&j&&a,O=Mu({validationState:su,error:R}),I=n.useMemo(()=>V?{...V,selection:{...V.selection,onChange:r=>{var i,W;(W=(i=V.selection)==null?void 0:i.onChange)==null||W.call(i,r),setTimeout(()=>{var Y;return(Y=g.current)==null?void 0:Y.focus()},0)}}}:void 0,[V]),qu=S({button:I}),[Au,H]=n.useState(!1),k=n.useRef(!1),z=ku({clearButtonRef:P,showClearButton:Vu,onClear:r=>{var i;r.preventDefault(),L(""),E==null||E(),k.current&&((i=g.current)==null||i.focus())},onDown:()=>{k.current=Au},size:v}),K=zu({copyButtonRef:Fu,showCopyButton:gu,size:v,valueToCopy:A,prefix:typeof h=="string"?h:void 0,postfix:typeof x=="string"?x:void 0,onCopyButtonClick:F}),[Du,J]=n.useState(!1),X=n.useCallback(()=>J(!0),[]),$=n.useCallback(()=>J(!1),[]),U=Ku({prefix:h,disabled:t}),Z=M({button:I,prefixIcon:pu,size:v,disabled:t,readonly:a,onFocus:X,onBlur:$}),G=Ju({postfix:x,disabled:t}),Q=T({button:I,size:v,disabled:t,readonly:a,onFocus:X,onBlur:$}),{postfixButtons:Cu,prefixButtons:_u,inputTabIndex:hu,onInputKeyDown:xu}=Xu({inputRef:g,postfixButtons:n.useMemo(()=>[z,K,G,Q],[z,K,G,Q]),prefixButtons:n.useMemo(()=>[Z,U],[Z,U]),readonly:a,submitKeys:["Enter","Space","Tab"]}),wu=r=>{xu(r),w==null||w(r)},Iu=r=>{const i=r.relatedTarget;if(i&&i===P.current){H(!1);return}y==null||y(r),H(!1)},Hu=r=>{B==null||B(r),H(!0)};return l.jsx(Tu,{className:q,label:au,labelTooltip:nu,labelTooltipPlacement:tu,labelFor:e,required:lu,caption:ru,length:o?{max:o,current:A.length}:void 0,hint:ou,disabled:t,readonly:a,showHintIcon:iu,size:v,validationState:O,error:R,...$u(yu),children:l.jsx(Uu,{size:v,validationState:O,disabled:t,readonly:a,variant:qu,inputRef:g,prefix:_u,postfix:Cu,disableFocus:Du,children:l.jsx(Zu,{ref:bu(vu,g),"data-size":v,value:A,onChange:L,onFocus:Hu,onBlur:Iu,tabIndex:hu,onKeyDown:wu,onPaste:mu,placeholder:m,disabled:t,readonly:a,type:fu,inputMode:Eu,maxLength:c?void 0:o||void 0,id:e,name:u,autoComplete:du,autoFocus:cu,spellCheck:Bu,"data-test-id":"field-text__input"})})})});try{eu.displayName="FieldText",eu.__docgenInfo={description:"",displayName:"FieldText",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},showCopyButton:{defaultValue:null,description:"Отображение кнопки Копировать для поля (актуально только для `readonly = true`)",name:"showCopyButton",required:!1,type:{name:"boolean"}},onCopyButtonClick:{defaultValue:null,description:"Колбек клика по кнопке Копировать для поля",name:"onCopyButtonClick",required:!1,type:{name:"(() => void)"}},showClearButton:{defaultValue:{value:"true"},description:"Отображение кнопки очистки поля",name:"showClearButton",required:!1,type:{name:"boolean"}},onClearButtonClick:{defaultValue:null,description:"Колбек клика по кнопке очистки поля",name:"onClearButtonClick",required:!1,type:{name:"(() => void)"}},allowMoreThanMaxLength:{defaultValue:{value:"false"},description:"Можно ли вводить больше разрешённого кол-ва символов",name:"allowMoreThanMaxLength",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"Иконка-префикс для поля",name:"prefixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},prefix:{defaultValue:null,description:"Произвольный префикс для поля",name:"prefix",required:!1,type:{name:"ReactNode"}},postfix:{defaultValue:null,description:"Произвольный постфикс для поля",name:"postfix",required:!1,type:{name:"ReactNode"}},button:{defaultValue:null,description:"Кнопка действия внутри поля",name:"button",required:!1,type:{name:"Button"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"tel"'},{value:'"email"'}]}},onChange:{defaultValue:null,description:"Колбек смены значения",name:"onChange",required:!1,type:{name:"((value: string, e?: ChangeEvent<HTMLInputElement>) => void)"}},value:{defaultValue:null,description:"Значение input",name:"value",required:!1,type:{name:"string"}},inputMode:{defaultValue:null,description:"Режим работы экранной клавиатуры",name:"inputMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"text"'},{value:'"search"'},{value:'"decimal"'},{value:'"numeric"'},{value:'"tel"'},{value:'"email"'},{value:'"url"'}]}},id:{defaultValue:null,description:"Значение html-атрибута id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Значение html-атрибута name",name:"name",required:!1,type:{name:"string"}},pattern:{defaultValue:null,description:"Регулярное выражение валидного инпута",name:"pattern",required:!1,type:{name:"string"}},autoFocus:{defaultValue:{value:"false"},description:"Включен ли авто-фокус для поля",name:"autoFocus",required:!1,type:{name:"boolean"}},spellCheck:{defaultValue:{value:"true"},description:"Значение атрибута spellcheck (проверка орфографии)",name:"spellCheck",required:!1,type:{name:"boolean"}},onPaste:{defaultValue:null,description:"Колбек обработки вставки значения",name:"onPaste",required:!1,type:{name:"ClipboardEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки получения фокуса",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Колбек обработки потери фокуса",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onKeyDown:{defaultValue:null,description:"Колбек обработки начала нажатия клавиши клавиатуры",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},disabled:{defaultValue:{value:"false"},description:"Является ли поле деактивированным",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"Является ли поле доступным только для чтения",name:"readonly",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"Значение плейсхолдера",name:"placeholder",required:!1,type:{name:"string"}},maxLength:{defaultValue:null,description:"Максимальная длина вводимого значения",name:"maxLength",required:!1,type:{name:"number"}},autoComplete:{defaultValue:{value:"false"},description:"Включен ли автокомплит для поля",name:"autoComplete",required:!1,type:{name:"string | boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},caption:{defaultValue:null,description:"Подпись справа от лейбла",name:"caption",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл",name:"label",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},labelTooltip:{defaultValue:null,description:"Всплывающая подсказка лейбла",name:"labelTooltip",required:!1,type:{name:"ReactNode"}},required:{defaultValue:{value:"false"},description:"Является ли поле обязательным",name:"required",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Подсказка внизу",name:"hint",required:!1,type:{name:"string"}},showHintIcon:{defaultValue:null,description:"Отображать иконку подсказки",name:"showHintIcon",required:!1,type:{name:"boolean"}},validationState:{defaultValue:{value:"default"},description:"Состояние валидации",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"warning"'},{value:'"success"'},{value:'"default"'}]}},labelTooltipPlacement:{defaultValue:{value:"top"},description:"Расположение подсказки лейбла",name:"labelTooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}}}}}catch{}export{eu as F};
