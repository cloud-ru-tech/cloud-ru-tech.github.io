import{j as a}from"./jsx-runtime-BTJTZTIL.js";import{r as i}from"./index-CJ_LmFaV.js";import{c as K}from"./index-DUmpqB7p.js";import{u as Q}from"./index-JZGyZbA2.js";import{d as Y}from"./index-D3kvmOHM.js";import{m as Z}from"./index-B7wZyJkK.js";import{u as ee}from"./useSwipeable-DMbEt_5P.js";import{C as ne}from"./index-Ca89sW9R.js";import{e as J}from"./componentPropsProcessors-UJEZy8aQ.js";import{P as te}from"./PaginationSlider-DaNlcIcS.js";import{t as ae}from"./helpers-PMoprrB6.js";import{P as ie}from"./index-CTTgWa-s.js";import{C as H}from"./index-u5XjxoPY.js";import"./index-ChsGqxH_.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./getRange-CHNeUywO.js";import"./index-Bxu_udwM.js";import"./index-DdXvKv-Q.js";import"./index-Chjiymov.js";import"./LocaleProvider-CyhbxqE1.js";import"./index-CGBRtoFy.js";import"./index-DrT0s6v0.js";import"./index-DHAmGKAZ.js";import"./Scroll-B3e6J9cA.js";import"./useIsomorphicLayoutEffect-BAXQmlEq.js";import"./isBrowser-C2N6XvuH.js";import"./ProgressBar-DoG3l5ps.js";import"./index-Dn6vuaYJ.js";import"./index-CAfvFIBF.js";import"./index-DbF-M2Rm.js";import"./TruncateString-C-ApBzyA.js";import"./Tooltip-DMNQxdBh.js";import"./PopoverPrivate-TrV_4kB1.js";import"./Link-CNFTiRqm.js";import"./Sun-CjKF0Bsh.js";import"./constants-BAH7I9kc.js";import"./ButtonFilled-oARZJUp_.js";import"./utils-D4P0b1iJ.js";import"./Counter-dO15w468.js";import"./Typography-DmSN6cv6.js";import"./ButtonTonal-C18l8S2H.js";import"./PromoTag-okkeJ18g.js";import"./index-Y3TRpJ-L.js";import"./IconPredefined-yX8Rdo-2.js";import"./DropList-DYpJZktT.js";import"./hooks-D_LY3Fgh.js";import"./useValueControl-C51frgGe.js";import"./Checkbox-qiHN918A.js";import"./constants-BObEONKm.js";import"./TogglePrivate-BTSew7b5.js";import"./index-w0WAZL2A.js";import"./Switch-DZam4yEg.js";import"./Dropdown-CY0dSXGI.js";import"./index-C3mvkShn.js";import"./index-CXJdfWGn.js";import"./index-CNCE-zGd.js";import"./Divider-C1X9zrkx.js";import"./Spinner-PYn9r2mo.js";import"./ButtonFunction-BJzRx2eA.js";import"./useButtonNavigation-CnLiqaIQ.js";import"./useEventHandler-C8nLb_YB.js";import"./useClearButton-DHSlnD4l.js";import"./constants-9uwKbtvo.js";import"./InputPrivate-OFi6woZ6.js";import"./index-B80hK4m0.js";import"./Tag-DrvhhdyA.js";import"./constants-BaREPXw5.js";const ue=`# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## 0.5.3 (2025-05-16)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.11](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.5.2 (2025-05-12)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.10](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.5.1 (2025-04-04)

### Bug Fixes

- **FF-6220:** carousel swipe behavior fixed when only single item is present per slide ([f9ac546](https://github.com/cloud-ru-tech/snack-uikit/commit/f9ac5467746f259c594aab56e9c74057b474dfd0))

# 0.5.0 (2025-03-29)

### Features

- **PDS-1119:** carousel autoswipe ([ff064ac](https://github.com/cloud-ru-tech/snack-uikit/commit/ff064acc23974c47acf2e1c3a52638fd482fecdb))

## 0.4.18 (2025-03-19)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.9](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.17 (2025-03-17)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.8](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.16 (2025-03-14)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.7](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.15 (2025-03-13)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.6](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.14 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.13 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.4](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.12 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.24.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.11 (2025-02-05)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.10 (2025-01-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.24.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.7.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.9 (2024-12-26)

### Bug Fixes

- **FF-5734:** eslint fixes ([5ce6f1f](https://github.com/cloud-ru-tech/snack-uikit/commit/5ce6f1f22d3ac3dd367cbdd184e5873e67837c8b))

## 0.4.8 (2024-12-18)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.7 (2024-12-17)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.6 (2024-12-12)

### Bug Fixes

- **PDS-1047:** fix carousel drag ([29b8892](https://github.com/cloud-ru-tech/snack-uikit/commit/29b8892c5448ccec6c7377cdb343b4b0cffc3998))

## 0.4.5 (2024-12-03)

### Bug Fixes

- **ONB-3090:** fixed slider behavior with showItems more than 1 ([7668b07](https://github.com/cloud-ru-tech/snack-uikit/commit/7668b07c16ba4980019c4b86111d63b5aacb4400))

## 0.4.4 (2024-11-14)

### Dependencies

- **FF-5678:** up deps classnames/uncontrollable ([8f0d645](https://github.com/cloud-ru-tech/snack-uikit/commit/8f0d645fc7eb8eaf95660cd0ae7d4b550821059b))

## 0.4.3 (2024-11-12)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.2 (2024-11-06)

### Bug Fixes

- **PDS-1011:** carousel item width calculation fixed ([0975a99](https://github.com/cloud-ru-tech/snack-uikit/commit/0975a99b76286a9f8adf528a0aa283cfccd0d1fc))

## 0.4.1 (2024-10-31)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

# 0.4.0 (2024-10-28)

### Features

- **FF-5782:** sass use/forward approach ([3e53869](https://github.com/cloud-ru-tech/snack-uikit/commit/3e53869ace864a7718e434b7f410c15dbd911cd5))

# 0.3.0 (2024-10-28)

### Features

- **FF-5502:** add cjs build ([ffada28](https://github.com/cloud-ru-tech/snack-uikit/commit/ffada28bfdc37ea760eb1c8759342e680bdf8dd6))

## 0.2.21 (2024-10-17)

### Bug Fixes

- **PDS-882:** scroll to partially visible slide on click ([f974fa2](https://github.com/cloud-ru-tech/snack-uikit/commit/f974fa298b3b972e4a27cb9cc5a065d92c583577))

## 0.2.20 (2024-09-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.22.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.7.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.4.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.2.19 (2024-09-07)

### Bug Fixes

- **FF-5560:** fix swipe ([12714e8](https://github.com/cloud-ru-tech/snack-uikit/commit/12714e8c0318f7aac976fe327fa830ebd37cb3ed))

## 0.2.18 (2024-08-15)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.7.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.17 (2024-08-14)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.12](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.16 (2024-08-06)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.11](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.15 (2024-07-19)

### Only dependencies have been changed

- [@snack-uikit/icons@0.22.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.10](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.14 (2024-07-03)

### Bug Fixes

- **FF-5100:** width calculation ([f8de802](https://github.com/cloud-ru-tech/snack-uikit/commit/f8de8023b23530a37d0437161619945b2f6ca958))

## 0.2.13 (2024-06-11)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.9](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.12 (2024-05-08)

### Only dependencies have been changed

- [@snack-uikit/icons@0.21.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.8](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.11 (2024-04-25)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.7](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.10 (2024-04-23)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.6](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.3.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.2.9 (2024-04-03)

### Bug Fixes

- **PDS-92:** remove ref for items ([5ef87bb](https://github.com/cloud-ru-tech/snack-uikit/commit/5ef87bb473bcf9525bc9f7022436668666a8dc2a))

## 0.2.8 (2024-02-28)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.7 (2024-02-20)

### Bug Fixes

- **FF-4297:** apply system-layer tokens ([7c8fd4b](https://github.com/cloud-ru-tech/snack-uikit/commit/7c8fd4b5334360b2fc31da92973b6835ffa287af))

## 0.2.6 (2024-02-05)

### Only dependencies have been changed

- [@snack-uikit/icons@0.20.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.5 (2024-02-05)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.4 (2024-01-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.20.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.3 (2023-12-28)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.2 (2023-12-18)

### Only dependencies have been changed

- [@snack-uikit/icons@0.19.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.5.4](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.1 (2023-12-15)

### Bug Fixes

- **FF-0001:** wrong publishCongig to public ([463bb6d](https://github.com/cloud-ru-tech/snack-uikit/commit/463bb6d2729b8e78bbc76346d9bc32b8b42f3468))

# 0.2.0 (2023-12-15)

### Bug Fixes

- **FF-0000:** change wrong scope ([8416f94](https://github.com/cloud-ru-tech/snack-uikit/commit/8416f94a0860cf088ffafad529595715ea291611))

### Dependencies

- **FF-2840:** up internal deps after bad rebase ([aabc8de](https://github.com/cloud-ru-tech/snack-uikit/commit/aabc8debf8d81fb37d6ecb7580cca9d93142246f))

### Features

- **FF-3829:** add carousel ([546b37a](https://github.com/cloud-ru-tech/snack-uikit/commit/546b37a3cfe07b4bbdbd7a009a1ffc51a69f4a44))

## 0.1.1 (2023-12-14)

### Dependencies

- **FF-2840:** up internal deps after bad rebase ([aabc8de](https://github.com/cloud-ru-tech/snack-uikit/commit/aabc8debf8d81fb37d6ecb7580cca9d93142246f))

# 0.1.0 (2023-12-14)

### Features

- **FF-3829:** add carousel ([546b37a](https://github.com/cloud-ru-tech/snack-uikit/commit/546b37a3cfe07b4bbdbd7a009a1ffc51a69f4a44))

## CHANGELOG

### v0.0.0

- Initial version
`,ce="@snack-uikit/carousel",oe="0.5.3",R={name:ce,version:oe},se=`# Carousel

## Installation

\`npm i @snack-uikit/carousel\`

[Changelog](./CHANGELOG.md)

[//]: DOCUMENTATION_SECTION_START
[//]: THIS_SECTION_IS_AUTOGENERATED_PLEASE_DONT_EDIT_IT
## Carousel
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| children* | \`ReactElement<any, string \\| JSXElementConstructor<any>>[]\` | - | Массив айтемов |
| className | \`string\` | - | CSS - класснейм |
| showItems | \`number\` | 1 | Кол-во отображаемых единовременно айтемов |
| scrollBy | \`number\` | Math.trunc(show) | Сдвиг айтемов при смене 1 страницы |
| transition | \`number\` | 0.4 | Время переключения 1 страницы (в s) |
| swipe | \`boolean\` | true | Переключение страниц свайпом |
| autoSwipe | \`number\` | - | Автоматическое переключение слайдов в секундах |
| swipeActivateLength | \`number\` | 48 | Минимальная длина в px для активации свайпа |
| arrows | \`boolean\` | true | Использовать стрелки для переключения страниц |
| pagination | \`boolean\` | true | Использовать пагинацию для переключения страниц |
| gap | \`string\` | var(--dimension-2m) | Расстояние между айтемами |
| state | \`{ page: number; onChange(page: number): void; }\` | - | Управление состоянием извне |
| infiniteScroll | \`boolean\` | - | Цикличная прокрутка |


[//]: DOCUMENTATION_SECTION_END
`,E={arrowNext:"carousel__arrow-next",arrowPrev:"carousel__arrow-prev",pagination:"carousel__pagination",trackLine:"carousel__track-line",trackItem:"carousel__track-item"},re="_control_1yam4_1",de="_icon_1yam4_43",M={control:re,icon:de},B=i.forwardRef(({onClick:e,variant:n,...s},d)=>a.jsx("button",{ref:d,className:M.control,onClick:e,type:"button","data-variant":n,...J(s),children:a.jsx(ne,{size:24,className:M.icon})}));try{B.displayName="Control",B.__docgenInfo={description:"",displayName:"Control",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"prev"'},{value:'"next"'}]}}}}}catch{}const le="_itemProvider_g4tun_1",me="_itemContainer_g4tun_20",pe="_itemTracker_g4tun_25",he="_hiddenItem_g4tun_32",x={itemProvider:le,itemContainer:me,itemTracker:pe,hiddenItem:he};function q({items:e,showItems:n,scrollBy:s,slideCallback:d,transition:h,swipe:v,swipeActivateLength:G,page:g,gap:N}){const r=i.useRef(null),[c,V]=i.useState({itemWidth:0,gap:0}),b=i.useCallback(()=>{const t=r.current;if(!t)return;const u=getComputedStyle(t),l=Number.parseFloat(u.getPropertyValue("--gap")),_=Number.parseFloat(u.getPropertyValue("padding-left")),y=Number.parseFloat(u.getPropertyValue("padding-right")),F=(t.getBoundingClientRect().width-(Math.trunc(n)-1)*l-_-y)/n;V({itemWidth:F,gap:l})},[n]);i.useEffect(()=>{const t=r.current;if(!t)return;b();const u=new ResizeObserver(Y(b,100));return u.observe(t),()=>u.disconnect()},[b]);const O=i.useRef(null),w=()=>{var t;(t=O.current)==null||t.querySelectorAll(`[data-test-id=${E.trackItem}]`).forEach(u=>{u.setAttribute("aria-hidden","0"),u.querySelectorAll('a, button, select, input, textarea, [tabindex="0"]').forEach(l=>{l.setAttribute("tabindex","-5"),l.classList.add(x.hiddenItem)})})},A=(t,u,l)=>{var _;(_=O.current)==null||_.querySelectorAll(`[data-test-id=${E.trackItem}]`).forEach((y,F)=>{F>=u*t&&F<u*t+Math.trunc(l)&&(y.removeAttribute("aria-hidden"),y.querySelectorAll('a, button, select, input, textarea, [tabindex="-5"]').forEach(L=>{L.setAttribute("tabindex","0"),L.classList.remove(x.hiddenItem)}))})},k=i.useMemo(()=>Number(-(g*s*c.itemWidth+c.gap*g*s)),[c.gap,c.itemWidth,g,s]);i.useEffect(()=>{w(),A(s,g,n)},[g,s,n]);const f=i.useCallback(t=>{var L;if(n===1)return;const u=t.currentTarget.getBoundingClientRect(),l=(L=r.current)==null?void 0:L.getBoundingClientRect(),y=((l==null?void 0:l.right)??0)-u.right;Math.min(y,u.x)<0&&d(y)},[n,d]),m=i.useMemo(()=>c.itemWidth>0?c.itemWidth:`${Math.floor(100/n)}%`,[c.itemWidth,n]),[C,p]=i.useState({drag:0,pointers:!0}),P=t=>{p({drag:t.deltaX,pointers:Math.abs(t.deltaX)<Number.MIN_SAFE_INTEGER})},o=t=>{if(Math.abs(C.drag)<G)return p({drag:0,pointers:!0});d(t.dir==="Left"?-1:1),p({drag:0,pointers:!0})},{ref:T,...z}=ee({onSwiping:P,onSwiped:o,trackMouse:!0,enabled:v,availableDirections:["Left","Right"]});return a.jsx("div",{ref:r,className:x.itemProvider,"data-pointers":!C.pointers||void 0,"data-swipe":v||void 0,"data-gap":N,style:{...N?{"--gap":N}:{}},children:a.jsx("div",{...z,className:x.itemTracker,"data-test-id":E.trackLine,style:{transform:`translateX(${k+C.drag}px)`,transition:`transform ${h}s ease 0s`},ref:Z(T,O),children:e.map((t,u)=>a.jsx("div",{style:{width:m},className:x.itemContainer,role:"group","data-test-id":E.trackItem,onClick:f,children:t},u))})})}try{q.displayName="ItemProvider",q.__docgenInfo={description:"",displayName:"ItemProvider",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}},showItems:{defaultValue:null,description:"",name:"showItems",required:!0,type:{name:"number"}},scrollBy:{defaultValue:null,description:"",name:"scrollBy",required:!0,type:{name:"number"}},slideCallback:{defaultValue:null,description:"",name:"slideCallback",required:!0,type:{name:"(direction: number) => void"}},transition:{defaultValue:null,description:"",name:"transition",required:!0,type:{name:"number"}},swipe:{defaultValue:null,description:"",name:"swipe",required:!0,type:{name:"boolean"}},swipeActivateLength:{defaultValue:null,description:"",name:"swipeActivateLength",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"string"}}}}}catch{}const ge="_carouselBase_hbh24_1",be="_carousel_hbh24_1",ke="_pagination_hbh24_16",I={carouselBase:ge,carousel:be,pagination:ke};function D({children:e,showItems:n=1,scrollBy:s,transition:d=.4,swipe:h=!0,arrows:v=!0,pagination:G=!0,className:g,gap:N,state:r,infiniteScroll:c=!1,swipeActivateLength:V=48,autoSwipe:b,...O}){const w=i.useRef(),A=i.useMemo(()=>s??Math.trunc(n),[n,s]),[k,f]=Q(r==null?void 0:r.page,(r==null?void 0:r.page)??0,o=>{const T=typeof o=="function"?o(k):o;r==null||r.onChange(T)}),m=i.useMemo(()=>e.length<=n?1:1+Math.ceil((e.length-n)/A),[e.length,A,n]),C=i.useCallback(()=>{f(o=>c?(m+o-1)%m:Math.max(0,o-1))},[c,f,m]),p=i.useCallback(()=>{f(o=>c?(o+1)%m:Math.min(m-1,o+1))},[c,f,m]),P=i.useCallback(o=>{if(o<0){p();return}C()},[C,p]);return i.useEffect(()=>{if(!(!b||!c))return w.current=setTimeout(()=>p(),b*1e3),()=>clearTimeout(w.current)},[b,c,p]),a.jsxs("div",{className:K(I.carousel,g),...J(O),children:[a.jsxs("div",{className:I.carouselBase,children:[a.jsx(q,{showItems:n,scrollBy:A,swipe:h,transition:d,items:e,slideCallback:P,page:k,gap:N,swipeActivateLength:V}),v&&a.jsxs(a.Fragment,{children:[(c||k>0)&&a.jsx(B,{onClick:C,variant:"prev","data-test-id":E.arrowPrev}),(c||k+1<m)&&a.jsx(B,{onClick:p,variant:"next","data-test-id":E.arrowNext})]})]}),G&&a.jsx("div",{className:I.pagination,children:a.jsx(te,{"data-test-id":E.pagination,page:k+1,onChange:o=>{f(o-1)},total:m})})]})}try{D.displayName="Carousel",D.__docgenInfo={description:"",displayName:"Carousel",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS - класснейм",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Массив айтемов",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}},showItems:{defaultValue:{value:"1"},description:"Кол-во отображаемых единовременно айтемов",name:"showItems",required:!1,type:{name:"number"}},scrollBy:{defaultValue:{value:"Math.trunc(show)"},description:"Сдвиг айтемов при смене 1 страницы",name:"scrollBy",required:!1,type:{name:"number"}},transition:{defaultValue:{value:"0.4"},description:"Время переключения 1 страницы (в s)",name:"transition",required:!1,type:{name:"number"}},swipe:{defaultValue:{value:"true"},description:"Переключение страниц свайпом",name:"swipe",required:!1,type:{name:"boolean"}},autoSwipe:{defaultValue:null,description:"Автоматическое переключение слайдов в секундах",name:"autoSwipe",required:!1,type:{name:"number"}},swipeActivateLength:{defaultValue:{value:"48"},description:"Минимальная длина в px для активации свайпа",name:"swipeActivateLength",required:!1,type:{name:"number"}},arrows:{defaultValue:{value:"true"},description:"Использовать стрелки для переключения страниц",name:"arrows",required:!1,type:{name:"boolean"}},pagination:{defaultValue:{value:"true"},description:"Использовать пагинацию для переключения страниц",name:"pagination",required:!1,type:{name:"boolean"}},gap:{defaultValue:{value:"var(--dimension-2m)"},description:"Расстояние между айтемами",name:"gap",required:!1,type:{name:"string"}},state:{defaultValue:null,description:"Управление состоянием извне",name:"state",required:!1,type:{name:"{ page: number; onChange(page: number): void; }"}},infiniteScroll:{defaultValue:{value:"false"},description:"Цикличная прокрутка",name:"infiniteScroll",required:!1,type:{name:"boolean"}}}}}catch{}const fe={HiddenPageCounter:"carousel__hidden-page-counter"},Ce=""+new URL("ImageProdContentBackground-C3l1NiPg.jpg",import.meta.url).href,ye=e=>{e.stopPropagation(),ae.userAction.neutral({label:"Button clicked"})},Ee={button:{label:"Label text",onClick:ye},volume:{currentValue:"999 999,00",oldValue:"1 000 000,00",dimension:"₽"}},Ge={metadata:"Metadata truncate 1 line",description:"Description truncate 2 lines",body:"Body text written in several lines",icon:ie};function j({title:e}){const{body:n,description:s,metadata:d,icon:h}=Ge;return a.jsx(H,{image:a.jsx(H.Image,{mode:"background",alt:"alt",src:Ce}),header:a.jsx(H.Header,{title:e,description:s,metadata:d,emblem:{icon:h}}),footer:a.jsx(H.Footer.Promo,{...Ee}),outline:!0,children:n})}try{j.displayName="StoryCard",j.__docgenInfo={description:"",displayName:"StoryCard",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}const ve="_wrapper_1f41p_1",Ne="_hiddenPageCounter_1f41p_6",$={wrapper:ve,hiddenPageCounter:Ne},qn={title:"Components/Carousel",component:D},Oe=({page:e,itemsCount:n,...s})=>{const[d,h]=i.useState(e?e-1:0);return i.useEffect(()=>{h(e?e-1:0)},[e]),a.jsxs("div",{className:$.wrapper,children:[a.jsx(D,{...s,state:{page:d,onChange:h},children:Array.from({length:n||12}).map((v,G)=>a.jsx(j,{title:`Item ${G+1}`},G))}),a.jsx("span",{"data-test-id":fe.HiddenPageCounter,className:$.hiddenPageCounter,children:d+1})]})},S={render:Oe,args:{showItems:2.5,scrollBy:2,transition:.4,swipe:!0,arrows:!0,pagination:!0,infiniteScroll:!0,autoSwipe:5,itemsCount:12,page:1},argTypes:{page:{name:"[Story]: pagination page as controlled state"},itemsCount:{name:"[Story]: count demo cards"}},parameters:{readme:{sidebar:[`Latest version: ${R.version}`,se,ue]},packageName:R.name,design:{name:"Figma",type:"figma",url:"https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=44%3A7537&mode=design"}}};var W,U,X;S.parameters={...S.parameters,docs:{...(W=S.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: Template,
  args: {
    showItems: 2.5,
    scrollBy: 2,
    transition: 0.4,
    swipe: true,
    arrows: true,
    pagination: true,
    infiniteScroll: true,
    autoSwipe: 5,
    itemsCount: 12,
    page: 1
  },
  argTypes: {
    page: {
      name: '[Story]: pagination page as controlled state'
    },
    itemsCount: {
      name: '[Story]: count demo cards'
    }
  },
  parameters: {
    readme: {
      sidebar: [\`Latest version: \${componentPackage.version}\`, componentReadme, componentChangelog]
    },
    packageName: componentPackage.name,
    design: {
      name: 'Figma',
      type: 'figma',
      url: 'https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=44%3A7537&mode=design'
    }
  }
}`,...(X=(U=S.parameters)==null?void 0:U.docs)==null?void 0:X.source}}};export{S as carousel,qn as default};
