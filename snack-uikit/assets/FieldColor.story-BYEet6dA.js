import{j as t}from"./jsx-runtime-BTJTZTIL.js";import{r as a}from"./index-CJ_LmFaV.js";import{c as D,a as au,b as ou,C as nu,s as lu}from"./styles.module-C6VSrpUS.js";import{m as ru}from"./index-B7wZyJkK.js";import{u as iu}from"./index-JZGyZbA2.js";import{S as su}from"./constants-9uwKbtvo.js";import{F as pu,g as mu,C as du,V as cu}from"./FieldDecorator-DME35q0M.js";import{u as fu}from"./useCopyButton-7U8jQ3tg.js";import{F as Fu}from"./FieldContainerPrivate-Bb7j8Eum.js";import{C as Bu}from"./ColorPicker-ByfDIqoH.js";import{u as Eu}from"./useValueControl-C51frgGe.js";import{u as Cu}from"./useClearButton-B39o1uTp.js";import{u as vu}from"./useButtonNavigation-CVCsehRW.js";import{e as gu}from"./componentPropsProcessors-UJEZy8aQ.js";import{D as yu}from"./Dropdown-DW3sYUoc.js";import{I as Au}from"./InputPrivate-CThf6NgV.js";import"./index-ChsGqxH_.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B3PncWT3.js";import"./Sprite-DoNyyhE0.js";import"./sprite.symbol-DpN2ERsh.js";import"./index-DOUS9uWn.js";import"./index-CO8qBMZD.js";import"./index-jnMETbXV.js";import"./index-CF-13Pl-.js";import"./index-DhD2neKD.js";import"./index-B_0qYnTb.js";import"./index-CQc5r4_Q.js";import"./index-DOM9zHVr.js";import"./index-CoIthjug.js";import"./index-CAYnss5D.js";import"./index-DmfNrAq3.js";import"./index-nGp8qeK-.js";import"./index-9wvJTAiE.js";import"./index-CNFM3LCz.js";import"./index-DnTCD4Me.js";import"./index-euh5MKXp.js";import"./index-K_J-hwcf.js";import"./index-B4f8p1mq.js";import"./index-C0OXG0Ut.js";import"./index-DYaIcqfi.js";import"./index-CU6E9CWM.js";import"./index-Cz4dqGWG.js";import"./index-BaJp5iwV.js";import"./index-CV7xtGUY.js";import"./index-BAKe6VtV.js";import"./index-CDvcICra.js";import"./index-Dj3Kdo0x.js";import"./index-DUmpqB7p.js";import"./TruncateString-NSjc3XzO.js";import"./useIsomorphicLayoutEffect-BAXQmlEq.js";import"./isBrowser-C2N6XvuH.js";import"./Tooltip-C67siN8J.js";import"./PopoverPrivate-CnKgsFAm.js";import"./index-Bxu_udwM.js";import"./index-DdXvKv-Q.js";import"./index-DTH25FFD.js";import"./SegmentedControl-6uR3yxic.js";import"./LocaleProvider-CyhbxqE1.js";import"./ButtonFunction-DNxi1ZK7.js";import"./utils-DzobPs8h.js";import"./Counter-CRGhF3Kb.js";import"./Sun-WJ2YftH0.js";import"./constants-BAH7I9kc.js";import"./ButtonFilled-BLfaiW75.js";const hu="_triggerClassName_4i524_1",Du="_colorPreview_4i524_7",F={triggerClassName:hu,colorPreview:Du},d=a.forwardRef(({id:n,name:l,value:c,disabled:u=!1,readonly:e=!1,showCopyButton:x=!0,showClearButton:q=!0,open:f,onChange:B,onOpenChange:T,className:N,label:S,labelTooltip:_,labelTooltipPlacement:I,required:E=!1,caption:P,hint:R,showHintIcon:j,size:i=su.S,validationState:k=cu.Default,error:C,withAlpha:O,autoApply:M,placeholder:L,onFocus:H,onBlur:K,onCopyButtonClick:G,autoFocus:U,...$},J)=>{const[Q,X]=iu(f,!1,T),s=a.useRef(null),v=Q&&!e&&!u,g=mu({validationState:k,error:C}),[p="",r]=Eu({value:c||"",onChange:B}),Y=a.useRef(null),z=a.useRef(null),y=!!(p&&!u),Z=q&&y&&!e,W=x&&y&&e,A=Cu({clearButtonRef:Y,showClearButton:Z,size:i,onClear:()=>{var o;r==null||r(""),E&&((o=s.current)==null||o.focus())}}),h=fu({copyButtonRef:z,showCopyButton:W,size:i,valueToCopy:p,onCopyButtonClick:G}),{postfixButtons:uu,inputTabIndex:eu,onInputKeyDown:tu}=vu({inputRef:s,postfixButtons:a.useMemo(()=>[A,h],[A,h]),readonly:e,submitKeys:["Enter","Space","Tab"]});return a.useEffect(()=>{var o;f&&((o=s.current)==null||o.focus())},[f]),t.jsx(pu,{className:N,label:S,labelTooltip:_,labelTooltipPlacement:I,labelFor:n,required:E,caption:P,hint:R,disabled:u,readonly:e,showHintIcon:j,size:i,error:C,validationState:g,...gu($),children:t.jsx(yu,{trigger:"click",triggerClassName:F.triggerClassName,widthStrategy:"auto",...e||u?{open:!1}:{open:v,onOpenChange:X},content:t.jsx(Bu,{withAlpha:O,autoApply:M,value:p,onChange:({hex:o})=>{r==null||r(o||"")},colorMode:{hex:!1}}),children:t.jsx(Fu,{className:F.container,size:i,validationState:g,disabled:u,readonly:e,variant:du.SingleLine,focused:v,inputRef:s,postfix:uu,prefix:t.jsx("div",{className:F.colorPreview,style:{"--color":p}}),children:t.jsx(Au,{ref:ru(J,s),"data-size":i,value:p,onChange:B,onFocus:H,onBlur:K,tabIndex:eu,onKeyDown:tu,disabled:u,readonly:e,placeholder:L,type:"text",id:n,name:l,autoFocus:U,"data-test-id":"field-color__input"})})})})});try{d.displayName="FieldColor",d.__docgenInfo={description:"",displayName:"FieldColor",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Открыт color-picker",name:"open",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Колбек открытия пикера",name:"onOpenChange",required:!1,type:{name:"((value: boolean) => void)"}},showCopyButton:{defaultValue:null,description:"Отображение кнопки копирования",name:"showCopyButton",required:!1,type:{name:"boolean"}},onCopyButtonClick:{defaultValue:null,description:"Колбек клика по кнопке Копировать для поля",name:"onCopyButtonClick",required:!1,type:{name:"(() => void)"}},showClearButton:{defaultValue:{value:"true"},description:"Отображение кнопки Очистки поля",name:"showClearButton",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Значение input",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},className:{defaultValue:null,description:"Класснейм",name:"className",required:!1,type:{name:"string"}},autoApply:{defaultValue:null,description:"Применять изменения автоматически, если значение false - то изменения происходят по кнопке",name:"autoApply",required:!1,type:{name:"boolean"}},withAlpha:{defaultValue:null,description:"Значение с альфаканалом",name:"withAlpha",required:!1,type:{name:"boolean"}},colorMode:{defaultValue:null,description:"",name:"colorMode",required:!1,type:{name:"{ hex?: boolean; rgb?: boolean; hsv?: boolean | undefined; } | undefined"}},disabled:{defaultValue:{value:"false"},description:"Является ли поле деактивированным",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Значение html-атрибута name",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Значение html-атрибута id",name:"id",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Колбек обработки получения фокуса",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Колбек обработки потери фокуса",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},autoFocus:{defaultValue:{value:"false"},description:"Включен ли авто-фокус для поля",name:"autoFocus",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"Является ли поле доступным только для чтения",name:"readonly",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"Значение плейсхолдера",name:"placeholder",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},label:{defaultValue:null,description:"Лейбл",name:"label",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},caption:{defaultValue:null,description:"Подпись справа от лейбла",name:"caption",required:!1,type:{name:"string"}},labelTooltip:{defaultValue:null,description:"Всплывающая подсказка лейбла",name:"labelTooltip",required:!1,type:{name:"ReactNode"}},required:{defaultValue:{value:"false"},description:"Является ли поле обязательным",name:"required",required:!1,type:{name:"boolean"}},labelTooltipPlacement:{defaultValue:{value:"top"},description:"Расположение подсказки лейбла",name:"labelTooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},hint:{defaultValue:null,description:"Подсказка внизу",name:"hint",required:!1,type:{name:"string"}},validationState:{defaultValue:{value:"default"},description:"Состояние валидации",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"warning"'},{value:'"success"'},{value:'"default"'}]}},showHintIcon:{defaultValue:null,description:"Отображать иконку подсказки",name:"showHintIcon",required:!1,type:{name:"boolean"}}}}}catch{}const k4={title:"Components/Fields/Field Color",component:d},wu=({size:n,...l})=>{const[c,u]=a.useState(l.value);return a.useEffect(()=>{u(l.value)},[l.value]),t.jsx("div",{className:lu.wrapper,"data-size":n,children:t.jsx(d,{...l,size:n,value:c,onChange:u})})},m={render:wu,args:{id:"text",value:"#794ed3",autoApply:!1,withAlpha:!0,readonly:!1,showCopyButton:!0,disabled:!1,autoFocus:!1,label:"Label text",labelTooltip:"Tooltip description",placeholder:"#f5f5f5",required:!1,caption:"Caption",hint:"Hint text",size:"s",validationState:"default",showClearButton:!0},argTypes:{showCopyButton:nu.showCopyButton,labelTooltip:{control:{type:"text"}}},parameters:{readme:{sidebar:[`Latest version: ${D.version}`,au,ou]},packageName:D.name,design:{name:"Figma",type:"figma",url:"https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-2.0.0?type=design&node-id=41%3A38747&mode=design&t=8dDi5X6Lfgs6Cxji-1"}}};var w,b,V;m.parameters={...m.parameters,docs:{...(w=m.parameters)==null?void 0:w.docs,source:{originalSource:`{
  render: Template,
  args: {
    id: 'text',
    value: '#794ed3',
    autoApply: false,
    withAlpha: true,
    readonly: false,
    showCopyButton: true,
    disabled: false,
    autoFocus: false,
    label: 'Label text',
    labelTooltip: 'Tooltip description',
    placeholder: '#f5f5f5',
    required: false,
    caption: 'Caption',
    hint: 'Hint text',
    size: 's',
    validationState: 'default',
    showClearButton: true
  },
  argTypes: {
    showCopyButton: COMMON_ARG_TYPES.showCopyButton,
    labelTooltip: {
      control: {
        type: 'text'
      }
    }
  },
  parameters: {
    readme: {
      sidebar: [\`Latest version: \${componentPackage.version}\`, componentReadme, componentChangelog]
    },
    packageName: componentPackage.name,
    design: {
      name: 'Figma',
      type: 'figma',
      url: 'https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-2.0.0?type=design&node-id=41%3A38747&mode=design&t=8dDi5X6Lfgs6Cxji-1'
    }
  }
}`,...(V=(b=m.parameters)==null?void 0:b.docs)==null?void 0:V.source}}};export{k4 as default,m as fieldColor};
