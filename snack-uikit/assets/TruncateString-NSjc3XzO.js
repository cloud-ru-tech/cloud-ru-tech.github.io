import{j as c}from"./jsx-runtime-BTJTZTIL.js";import{c as Y}from"./index-DUmpqB7p.js";import{c as F,g as de}from"./_commonjsHelpers-D6-XlEtG.js";import{r as h}from"./index-CJ_LmFaV.js";import{u as fe}from"./useIsomorphicLayoutEffect-BAXQmlEq.js";import{e as Z}from"./componentPropsProcessors-UJEZy8aQ.js";import{T as ee}from"./Tooltip-C67siN8J.js";var R,K;function ce(){if(K)return R;K=1;var t="Expected a function",a=NaN,p="[object Symbol]",m=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,E=/^0o[0-7]+$/i,i=parseInt,d=typeof F=="object"&&F&&F.Object===Object&&F,D=typeof self=="object"&&self&&self.Object===Object&&self,n=d||D||Function("return this")(),T=Object.prototype,b=T.toString,_=Math.max,H=Math.min,L=function(){return n.Date.now()};function ue(e,r,l){var f,g,j,C,s,x,B=0,z=!1,A=!1,I=!0;if(typeof e!="function")throw new TypeError(t);r=P(r)||0,S(l)&&(z=!!l.leading,A="maxWait"in l,j=A?_(P(l.maxWait)||0,r):j,I="trailing"in l?!!l.trailing:I);function M(u){var v=f,N=g;return f=g=void 0,B=u,C=e.apply(N,v),C}function le(u){return B=u,s=setTimeout(q,r),z?M(u):C}function ie(u){var v=u-x,N=u-B,J=r-v;return A?H(J,j-N):J}function U(u){var v=u-x,N=u-B;return x===void 0||v>=r||v<0||A&&N>=j}function q(){var u=L();if(U(u))return X(u);s=setTimeout(q,ie(u))}function X(u){return s=void 0,I&&f?M(u):(f=g=void 0,C)}function se(){s!==void 0&&clearTimeout(s),B=0,f=x=g=s=void 0}function oe(){return s===void 0?C:X(L())}function O(){var u=L(),v=U(u);if(f=arguments,g=this,x=u,v){if(s===void 0)return le(x);if(A)return s=setTimeout(q,r),M(x)}return s===void 0&&(s=setTimeout(q,r)),C}return O.cancel=se,O.flush=oe,O}function re(e,r,l){var f=!0,g=!0;if(typeof e!="function")throw new TypeError(t);return S(l)&&(f="leading"in l?!!l.leading:f,g="trailing"in l?!!l.trailing:g),ue(e,r,{leading:f,maxWait:r,trailing:g})}function S(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function ae(e){return!!e&&typeof e=="object"}function ne(e){return typeof e=="symbol"||ae(e)&&b.call(e)==p}function P(e){if(typeof e=="number")return e;if(ne(e))return a;if(S(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=S(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(m,"");var l=y.test(e);return l||E.test(e)?i(e.slice(2),l?2:8):o.test(e)?a:+e}return R=re,R}var pe=ce();const te=de(pe),G=t=>t?t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth:!1,me=[{potentialDelimiterWidth:.5,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:.5,rightHalfDelta:0},{potentialDelimiterWidth:1,leftHalfDelta:0,rightHalfDelta:.5},{potentialDelimiterWidth:2,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:2,leftHalfDelta:1,rightHalfDelta:0},{potentialDelimiterWidth:2,leftHalfDelta:0,rightHalfDelta:1},{potentialDelimiterWidth:3,leftHalfDelta:0,rightHalfDelta:0},{potentialDelimiterWidth:3,leftHalfDelta:1,rightHalfDelta:0},{potentialDelimiterWidth:3,leftHalfDelta:0,rightHalfDelta:1},{potentialDelimiterWidth:4,leftHalfDelta:0,rightHalfDelta:0}],ge="...",he=({text:t,element:a,truncatedElement:p})=>{if(a&&p&&G(a)){const m=a.scrollWidth/t.length;let o=t;for(const{potentialDelimiterWidth:y,leftHalfDelta:E,rightHalfDelta:i}of me){const d=Math.floor((a.offsetWidth/m-y)/2),D=t.slice(0,d-E),n=t.slice(t.length-d+i,t.length);if(o=`${D}${ge}${n}`,p.innerHTML=o,p.scrollWidth<=a.offsetWidth-1)break}return o}return t},Ee="_wrapper_9yryq_1",ve="_truncatedText_9yryq_10",ye="_fullText_9yryq_20",De="_textContainer_9yryq_29",W={wrapper:Ee,truncatedText:ve,fullText:ye,textContainer:De};function k({text:t,className:a,tooltipClassName:p,hideTooltip:m,placement:o,...y}){const[E,i]=h.useState(!1),[d,D]=h.useState(t),n=h.useRef(null),T=h.useRef(null);h.useEffect(()=>{const _=te(()=>{D(he({element:n.current,truncatedElement:T.current,text:t})),i(G(n.current))},50);_();const H=new ResizeObserver(_);return n.current&&H.observe(n.current),()=>{H.disconnect()}},[E,t,m]);const b=c.jsxs(c.Fragment,{children:[c.jsx("span",{ref:n,className:W.fullText,"data-test-id":"full-text",children:t}),c.jsx("span",{ref:T,className:W.truncatedText,"data-test-id":"truncated-text",children:d})]});return c.jsx("span",{className:Y(W.wrapper,a),...Z(y),children:E&&!m?c.jsx(ee,{tip:t,placement:o,hoverDelayOpen:500,triggerClassName:W.textContainer,className:p,children:b}):b})}try{k.displayName="TruncateStringMiddle",k.__docgenInfo={description:"",displayName:"TruncateStringMiddle",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"",name:"hideTooltip",required:!1,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}const Te="_text1Line_2nt08_1",_e="_ellipsis_2nt08_9",xe="_text2AndMoreLines_2nt08_13",be="_tooltipTrigger_2nt08_24",V={text1Line:Te,ellipsis:_e,text2AndMoreLines:xe,tooltipTrigger:be};function $({text:t,className:a,tooltipClassName:p,hideTooltip:m,maxLines:o=1,placement:y,...E}){const i=h.useRef(null),[d,D]=h.useState(!1),n=h.useCallback(()=>{D(G(i.current))},[]);fe(()=>{i.current&&n()},[t,n]),h.useEffect(()=>{const b=te(()=>{n()},50),_=new ResizeObserver(b);return i.current&&(n(),_.observe(i.current)),()=>{_.disconnect()}},[d,m,n]);const T=c.jsx("span",{ref:i,className:Y(o>1?V.text2AndMoreLines:V.text1Line,a,{[V.ellipsis]:!i.current||d}),style:{"--max-lines":o},...Z(E),children:t});return d&&!m?c.jsx(ee,{tip:t,placement:y,hoverDelayOpen:500,className:p,triggerClassName:V.tooltipTrigger,children:T}):T}try{$.displayName="TruncateStringEnd",$.__docgenInfo={description:"",displayName:"TruncateStringEnd",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"Скрывать ли тултип с полным текстом",name:"hideTooltip",required:!1,type:{name:"boolean"}},maxLines:{defaultValue:{value:"1"},description:"Максимальное кол-во строк, до которого может сворачиваться текст.",name:"maxLines",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"Положение тултипа относительно обрезанного текста.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"Текст, который будет обрезаться",name:"text",required:!0,type:{name:"string"}}}}}catch{}const w={Middle:"middle",End:"end"};function Q({variant:t=w.End,...a}){switch(t){case w.Middle:return c.jsx(k,{...a});case w.End:default:return c.jsx($,{...a})}}try{Q.displayName="TruncateString",Q.__docgenInfo={description:"",displayName:"TruncateString",props:{variant:{defaultValue:{value:"end"},description:"Вариант обрезания строки: <br> - `End` - с конца\n<br> - `Middle` - по середине",name:"variant",required:!1,type:{name:"enum",value:[{value:'"end"'},{value:'"middle"'}]}},"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltipClassName:{defaultValue:null,description:"Стиль для тултипа",name:"tooltipClassName",required:!1,type:{name:"string"}},hideTooltip:{defaultValue:null,description:"Скрывать ли тултип с полным текстом",name:"hideTooltip",required:!1,type:{name:"boolean"}},maxLines:{defaultValue:null,description:"Максимальное кол-во строк, до которого может сворачиваться текст.",name:"maxLines",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"Положение тултипа относительно обрезанного текста.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},text:{defaultValue:null,description:"Текст, который будет обрезаться",name:"text",required:!0,type:{name:"string"}}}}}catch{}export{Q as T,w as V};
