import{r as f}from"./index-CJ_LmFaV.js";import{j as h}from"./jsx-runtime-BTJTZTIL.js";import{g as C}from"./hooks--ddS5C5q.js";import{C as ne}from"./index-Y3TRpJ-L.js";import{u as $}from"./LocaleProvider-DhC1J63f.js";import{D as j}from"./Divider-C1X9zrkx.js";import{B as ae}from"./ButtonFunction-B5Ubv91R.js";import{B as re}from"./ButtonFilled-B8fUvZmF.js";import{i as oe}from"./isBrowser-C2N6XvuH.js";import{L as ie}from"./List-DqEuCWJj.js";import{e as ce}from"./componentPropsProcessors-UJEZy8aQ.js";const Y={Month:"month",Year:"year",Decade:"decade"},x={Date:"date",DateTime:"date-time",DateRange:"date-range",Month:"month",MonthRange:"month-range",Year:"year",YearRange:"year-range"},O={Out:"out",Start:"start",In:"in",End:"end",StartEnd:"start-end"},le={S:"s",M:"m",L:"l"},ze={[Y.Month]:{rows:6,columns:7},[Y.Year]:{rows:4,columns:3},[Y.Decade]:{rows:4,columns:3}},ue="autofocus",fe=24,de=60,me=60,Ze=new Intl.Locale("ru-RU");function ge(e,t){var n=t[typeof e=="string"?e.toUpperCase():e];return typeof n=="number"?n:1}function he(e,t,n){if(e){var o=e.toLowerCase().split(/[-_]/),d=o[0],i=d,a;if(o[1]&&o[1].length===4?(i+="_"+o[1],a=o[2]):a=o[1],a||(a=t[i]||t[d]),a)return ge(a.match(/^\d+$/)?Number(a):a,n)}return 1}var De={en:"US",hi:"IN",deva:"IN",te:"IN",mr:"IN",ta:"IN",gu:"IN",kn:"IN",or:"IN",ml:"IN",pa:"IN",bho:"IN",awa:"IN",as:"IN",mwr:"IN",mai:"IN",mag:"IN",bgc:"IN",hne:"IN",dcc:"IN",bn:"BD",beng:"BD",rkt:"BD",dz:"BT",tibt:"BT",tn:"BW",am:"ET",ethi:"ET",om:"ET",quc:"GT",id:"ID",jv:"ID",su:"ID",mad:"ID",ms_arab:"ID",he:"IL",hebr:"IL",jam:"JM",ja:"JP",jpan:"JP",km:"KH",khmr:"KH",ko:"KR",kore:"KR",lo:"LA",laoo:"LA",mh:"MH",my:"MM",mymr:"MM",mt:"MT",ne:"NP",fil:"PH",ceb:"PH",ilo:"PH",ur:"PK",pa_arab:"PK",lah:"PK",ps:"PK",sd:"PK",skr:"PK",gn:"PY",th:"TH",thai:"TH",tts:"TH",zh_hant:"TW",hant:"TW",sm:"WS",zu:"ZA",sn:"ZW",arq:"DZ",ar:"EG",arab:"EG",arz:"EG",fa:"IR",az_arab:"IR",dv:"MV",thaa:"MV"},pe={AG:0,ATG:0,28:0,AS:0,ASM:0,16:0,BD:0,BGD:0,50:0,BR:0,BRA:0,76:0,BS:0,BHS:0,44:0,BT:0,BTN:0,64:0,BW:0,BWA:0,72:0,BZ:0,BLZ:0,84:0,CA:0,CAN:0,124:0,CO:0,COL:0,170:0,DM:0,DMA:0,212:0,DO:0,DOM:0,214:0,ET:0,ETH:0,231:0,GT:0,GTM:0,320:0,GU:0,GUM:0,316:0,HK:0,HKG:0,344:0,HN:0,HND:0,340:0,ID:0,IDN:0,360:0,IL:0,ISR:0,376:0,IN:0,IND:0,356:0,JM:0,JAM:0,388:0,JP:0,JPN:0,392:0,KE:0,KEN:0,404:0,KH:0,KHM:0,116:0,KR:0,KOR:0,410:0,LA:0,LA0:0,418:0,MH:0,MHL:0,584:0,MM:0,MMR:0,104:0,MO:0,MAC:0,446:0,MT:0,MLT:0,470:0,MX:0,MEX:0,484:0,MZ:0,MOZ:0,508:0,NI:0,NIC:0,558:0,NP:0,NPL:0,524:0,PA:0,PAN:0,591:0,PE:0,PER:0,604:0,PH:0,PHL:0,608:0,PK:0,PAK:0,586:0,PR:0,PRI:0,630:0,PT:0,PRT:0,620:0,PY:0,PRY:0,600:0,SA:0,SAU:0,682:0,SG:0,SGP:0,702:0,SV:0,SLV:0,222:0,TH:0,THA:0,764:0,TT:0,TTO:0,780:0,TW:0,TWN:0,158:0,UM:0,UMI:0,581:0,US:0,USA:0,840:0,VE:0,VEN:0,862:0,VI:0,VIR:0,850:0,WS:0,WSM:0,882:0,YE:0,YEM:0,887:0,ZA:0,ZAF:0,710:0,ZW:0,ZWE:0,716:0,AE:6,ARE:6,784:6,AF:6,AFG:6,4:6,BH:6,BHR:6,48:6,DJ:6,DJI:6,262:6,DZ:6,DZA:6,12:6,EG:6,EGY:6,818:6,IQ:6,IRQ:6,368:6,IR:6,IRN:6,364:6,JO:6,JOR:6,400:6,KW:6,KWT:6,414:6,LY:6,LBY:6,434:6,OM:6,OMN:6,512:6,QA:6,QAT:6,634:6,SD:6,SDN:6,729:6,SY:6,SYR:6,760:6,MV:5,MDV:5,462:5};function ye(e){return he(e,De,pe)}const qe=(e,t)=>Math.floor(e.getFullYear()/10)===Math.floor(t.getFullYear()/10),Q=(e,t)=>e.getFullYear()===t.getFullYear(),X=(e,t)=>Q(e,t)&&e.getMonth()===t.getMonth();function Me(e,t){return X(e,t)&&e.getDate()===t.getDate()}const Ie=e=>e.substring(0,1).toUpperCase()+e.substring(1),Je=(e,t)=>{const n=e.toLocaleString(t,{month:"long"});return Ie(n)},$e=e=>e.getDate().toString(),Qe=e=>e.getFullYear().toString(),Ne=(e,t)=>{const n=(t.getFullYear()-e.getFullYear())*12,o=t.getMonth()-e.getMonth();return n+o},Xe=(e,t)=>t.getFullYear()-e.getFullYear(),et=(e,t)=>Math.trunc((t.getFullYear()-e.getFullYear())/10),q=(e,t,n)=>{switch(e){case Y.Month:return Me(t,n);case Y.Year:return X(t,n);case Y.Decade:return Q(t,n);default:return!1}},be=e=>[...e].sort((t,n)=>t.valueOf()-n.valueOf()),Se=(e,t,n)=>{if(!n)return O.Out;const[o,d]=be(n),i=q(t,e,o),a=q(t,e,d);if(i&&a)return O.StartEnd;if(i)return O.Start;if(a)return O.End;const[I,y]=n.map(p=>p.valueOf()).sort();return e.valueOf()>=I&&e.valueOf()<=y?O.In:O.Out},tt=e=>new Date(new Date(e.getFullYear(),e.getMonth(),e.getDate()+1).valueOf()-1),st=e=>new Date(new Date(e.getFullYear(),e.getMonth(),1).valueOf()),nt=e=>new Date(new Date(e.getFullYear(),e.getMonth()+1,1).valueOf()-1),at=e=>new Date(new Date(e.getFullYear(),0,1).valueOf()),rt=e=>new Date(new Date(e.getFullYear()+1,0,1).valueOf()-1),ot=e=>t=>e?`${t}-${e}`:void 0,Re=()=>oe()?(navigator==null?void 0:navigator.language)??"ru-RU":"ru-RU",Ce=({localeProp:e,ctxLang:t}={})=>e||new Intl.Locale(t?t.replace("_","-"):Re()),it=e=>ye(e.language),Te=(e,t)=>t==="month"?e.getDay()===0||e.getDay()===6:!1,T=()=>{},L={current:null},W=f.createContext({locale:Ce(),size:le.M,viewDate:new Date,referenceDate:new Date,mode:x.Date,viewMode:Y.Month,viewShift:0,setFocus:T,setValue:T,setViewMode:T,showHolidays:!1,showSeconds:!0,fitToContainer:!0,setViewShift:T,startPreselect:T,continuePreselect:T,completePreselect:T,restartPreselect:T,onDateAndTimeChange:T,onTimeChange:T,onDateChange:T,isDateAndTimeFilled:()=>!1,isDateFilled:()=>!1,isTimeFilled:()=>!1,getTestId:()=>{},applyButtonRef:L,currentButtonRef:L,hoursKeyboardNavigationRef:L,minutesKeyboardNavigationRef:L,secondsKeyboardNavigationRef:L}),we=e=>e.join("-");function ct({onSelect:e,onPreselect:t,onLeave:n,buildGrid:o,isTheSameItem:d,getItemLabel:i,isInPeriod:a,onKeyDown:I}){const{today:y,showHolidays:p,preselectedRange:s,value:l,dateAndTime:r,mode:D,viewDate:w,viewMode:_,focus:b,buildCellProps:k,firstNotDisableCell:M,isDateFilled:P}=f.useContext(W);return f.useMemo(()=>{let S=!1,v,B=!1;const F=o(w).map(H=>H.map(({date:c,address:R})=>{let u=!1,m,g={isDisabled:u,isHoliday:m};k&&(g=k(c,_),u=(g==null?void 0:g.isDisabled)??!1,m=g.isHoliday),m===void 0&&(m=p&&Te(c,_)),u||M&&!B&&(M.current=R,B=!0);const N=P()?new Date((r==null?void 0:r.year)??0,(r==null?void 0:r.month)??0,(r==null?void 0:r.day)??0):void 0,E=D===x.DateRange||D===x.MonthRange||D===x.YearRange?Se(c,_,s||l):O.Out,ee=l&&!s&&!N?d(l[0],c)||d(l[1],c):!1,te=s?d(s[0],c):!1,se=N?d(N,c):!1,U=b&&we(R)===b?0:-1;S=U===0||S;const z=d(y||new Date,c),Z={date:c,onLeave:n,address:R,tabIndex:U,onSelect:e,isCurrent:z,isDisabled:u,isHoliday:m,onPreselect:t,inRangePosition:E,label:i(c),isSelected:ee||te||se,isInCurrentLevelPeriod:a(w,c),onKeyDown:I};return z&&(v=Z),Z}));return S||((v||F[0][0]).tabIndex=0),F},[k,o,r==null?void 0:r.day,r==null?void 0:r.month,r==null?void 0:r.year,M,b,i,P,a,d,D,I,n,t,e,s,p,y,l,w,_])}function lt({showSeconds:e,value:t}){const[n,o]=f.useState(()=>{if(Array.isArray(t)){const s=t[0];return{year:s.getFullYear(),month:s.getMonth(),day:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds()}}return{year:void 0,month:void 0,day:void 0,hours:t==null?void 0:t.hours,minutes:t==null?void 0:t.minutes,seconds:t==null?void 0:t.seconds}}),d=f.useCallback(()=>{const{year:s,month:l,day:r}=n;return[s,l,r].every(D=>D!==void 0)},[n]),i=f.useCallback(()=>{const{hours:s,minutes:l,seconds:r}=n;return[s,l,...e?[r]:[]].every(D=>D!==void 0)},[n,e]),a=f.useCallback(()=>i()&&d(),[d,i]),I=f.useCallback(s=>{s instanceof Date?o(l=>({...l,year:s.getFullYear(),month:s.getMonth(),day:s.getDate()})):o(l=>({...l,...s}))},[]),y=f.useCallback(s=>{s instanceof Date?o(l=>({...l,hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds()})):o(l=>({...l,...s}))},[]),p=f.useCallback(s=>{s instanceof Date?o({year:s.getFullYear(),month:s.getMonth(),day:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds()}):o(s)},[]);return f.useEffect(()=>{if(!t){o({});return}Array.isArray(t)?p(t[0]):y(t)},[p,y,t]),{dateAndTime:n,setDateAndTime:o,isDateAndTimeFilled:a,isTimeFilled:i,isDateFilled:d,onDateChange:I,onTimeChange:y,onDateAndTimeChange:p}}const _e="_divider_ty3ko_1",ke="_footer_ty3ko_5",Pe="_currentWrapper_ty3ko_22",G={divider:_e,footer:ke,currentWrapper:Pe};function ut(){const{size:e,viewMode:t,mode:n,today:o,setValue:d,dateAndTime:i,isTimeFilled:a,isDateAndTimeFilled:I,onDateAndTimeChange:y,applyButtonRef:p,currentButtonRef:s,hoursKeyboardNavigationRef:l,minutesKeyboardNavigationRef:r,secondsKeyboardNavigationRef:D,showSeconds:w,getTestId:_,referenceDate:b,setViewShift:k,onFocusLeave:M}=f.useContext(W),{t:P}=$("Calendar");if(![x.DateTime,"time"].includes(n)||t!=="month")return null;const S=n==="time"?!a():!I(),v=c=>{var R,u;c.key==="Tab"&&(c.shiftKey?(c.preventDefault(),w?(R=D.current)==null||R.focusItem(C((i==null?void 0:i.seconds)??0)):(u=r.current)==null||u.focusItem(C((i==null?void 0:i.minutes)??0))):S&&(M==null||M("next")))},B=c=>{c.key==="Tab"&&!c.shiftKey&&(M==null||M("next"))},F=()=>{var R,u,m,g;const c=o||new Date;y(c),k(Ne(b,c)),(R=l.current)==null||R.focusItem(C(c.getHours()??0)),(u=r.current)==null||u.focusItem(C(c.getMinutes()??0)),(m=D.current)==null||m.focusItem(C(c.getSeconds()??0)),(g=p.current)==null||g.focus()},H=()=>{if(!i)return;const c=o||new Date,{year:R=c.getFullYear(),month:u=c.getMonth(),day:m=c.getMonth(),hours:g,minutes:N,seconds:A}=i,E=new Date(R,u,m,g,N,w?A:0);d([E,E])};return h.jsxs("div",{className:G.footer,"data-size":e,children:[h.jsx(j,{className:G.divider}),h.jsxs("div",{className:G.currentWrapper,"data-size":e,children:[h.jsx(ae,{label:P("current"),size:e==="s"?"xs":"s",onClick:F,ref:s,onKeyDown:v,"data-test-id":_("current-button")}),h.jsx(re,{icon:h.jsx(ne,{}),size:e==="s"?"xs":"s",disabled:S,onClick:H,ref:p,onKeyDown:B,"data-test-id":_("apply-button")})]})]})}function V({numberOfItems:e,value:t,onChange:n,className:o,onKeyDownGetter:d,keyboardNavigationRef:i,navigationStartRef:a,"data-test-id":I,...y}){const{size:p}=f.useContext(W),s=f.useMemo(()=>new Array(e).fill(null).map(()=>f.createRef()),[e]);f.useImperativeHandle(a,()=>({focus:()=>{var r;(r=i==null?void 0:i.current)==null||r.focusItem(C(t||0))}}));const l=f.useMemo(()=>new Array(e).fill(void 0).map((r,D)=>({id:D,content:{option:String(D).padStart(2,"0")},"data-test-id":I,onKeyDown:d==null?void 0:d(D),itemRef:s[D]})),[I,s,e,d]);return h.jsx(ie,{...ce(y),size:p,items:l,scroll:!0,keyboardNavigationRef:i,selection:{mode:"single",value:t,onChange:n},className:o,hasListInFocusChain:!1,scrollToSelectedItem:!0})}try{V.displayName="TimeList",V.__docgenInfo={description:"",displayName:"TimeList",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},numberOfItems:{defaultValue:null,description:"",name:"numberOfItems",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onKeyDownGetter:{defaultValue:null,description:"",name:"onKeyDownGetter",required:!1,type:{name:"((id: number) => KeyboardEventHandler)"}},keyboardNavigationRef:{defaultValue:null,description:"",name:"keyboardNavigationRef",required:!1,type:{name:"RefObject<{ focusItem(id: ItemId): void; }>"}},navigationStartRef:{defaultValue:null,description:"",name:"navigationStartRef",required:!1,type:{name:"RefObject<{ focus(): void; }>"}}}}}catch{}const Ee="_divider_pigrd_1",Ke="_timePicker_pigrd_6",Oe="_timeListsWrapper_pigrd_35",Ye="_title_pigrd_53",ve="_header_pigrd_58",K={divider:Ee,timePicker:Ke,timeListsWrapper:Oe,title:Ye,header:ve};function J({showDivider:e=!0}){const{t}=$("Calendar"),{size:n,mode:o,fitToContainer:d,showSeconds:i,dateAndTime:a,onTimeChange:I,applyButtonRef:y,currentButtonRef:p,hoursKeyboardNavigationRef:s,minutesKeyboardNavigationRef:l,secondsKeyboardNavigationRef:r,setFocus:D,getTestId:w,navigationStartRef:_,onFocusLeave:b}=f.useContext(W),k=a==null?void 0:a.hours,M=a==null?void 0:a.minutes,P=a==null?void 0:a.seconds,S=f.useCallback(u=>m=>{const g={hours:0,minutes:0,seconds:0,...a};I({...g,[u]:m??(a==null?void 0:a[u])??0})},[a,I]),v=f.useMemo(()=>S("hours"),[S]),B=f.useMemo(()=>S("minutes"),[S]),F=f.useMemo(()=>S("seconds"),[S]),H=f.useCallback(u=>m=>{var g,N;switch(m.key){case"Tab":if(o==="time"&&m.shiftKey){b==null||b("prev");break}m.stopPropagation(),m.preventDefault(),m.shiftKey?D(ue):(g=l.current)==null||g.focusItem(C(M??0));break;case"Enter":(N=l.current)==null||N.focusItem(C(M??0));break;case"ArrowUp":if(o==="time"&&u===0){b==null||b("prev");break}break}},[M,l,o,b,D]),c=f.useCallback(()=>u=>{var m,g,N,A,E;switch(u.key){case"Tab":u.stopPropagation(),u.preventDefault(),u.shiftKey?(m=s.current)==null||m.focusItem(C(k??0)):i?(g=r.current)==null||g.focusItem(C(P??0)):(N=p.current)==null||N.focus();break;case"Enter":i?(A=r.current)==null||A.focusItem(C(P??0)):(E=y.current)==null||E.focus();break}},[y,p,k,s,P,r,i]),R=f.useCallback(()=>u=>{var m,g,N;switch(u.key){case"Tab":u.stopPropagation(),u.preventDefault(),u.shiftKey?(m=l.current)==null||m.focusItem(C(M??0)):(g=p.current)==null||g.focus();break;case"Enter":(N=y.current)==null||N.focus();break}},[y,p,M,l]);return h.jsxs(h.Fragment,{children:[e&&h.jsx(j,{orientation:"vertical",className:K.divider}),h.jsxs("div",{className:K.timePicker,"data-size":n,"data-fit-to-container":d||void 0,children:[h.jsx("div",{className:K.header,"data-size":n,children:h.jsx("span",{className:K.title,children:t("time")})}),h.jsxs("div",{className:K.timeListsWrapper,"data-size":n,"data-show-seconds":i||void 0,children:[h.jsx(V,{value:k,onChange:v,"data-test-id":w("hours"),numberOfItems:fe,onKeyDownGetter:H,keyboardNavigationRef:s,navigationStartRef:o==="time"?_:void 0}),h.jsx(j,{className:K.divider,orientation:"vertical"}),h.jsx(V,{value:M,onChange:B,"data-test-id":w("minutes"),numberOfItems:de,onKeyDownGetter:c,keyboardNavigationRef:l}),i&&h.jsxs(h.Fragment,{children:[h.jsx(j,{className:K.divider,orientation:"vertical"}),h.jsx(V,{value:P,onChange:F,"data-test-id":w("seconds"),numberOfItems:me,onKeyDownGetter:R,keyboardNavigationRef:r})]})]})]})]})}try{J.displayName="TimePickerBase",J.__docgenInfo={description:"",displayName:"TimePickerBase",props:{showDivider:{defaultValue:{value:"true"},description:"",name:"showDivider",required:!1,type:{name:"boolean"}}}}}catch{}export{ue as A,x as C,Ze as D,ut as F,ze as G,O as I,le as S,J as T,Y as V,Ce as a,W as b,ct as c,Xe as d,Qe as e,qe as f,ot as g,it as h,Q as i,Me as j,$e as k,X as l,Ne as m,Je as n,et as o,Ie as p,be as q,st as r,we as s,nt as t,lt as u,at as v,rt as w,tt as x};
