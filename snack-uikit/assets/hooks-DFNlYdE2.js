import{j as r}from"./jsx-runtime-BTJTZTIL.js";import{r as m}from"./index-CJ_LmFaV.js";import{c as T}from"./index-DUmpqB7p.js";import{e as le}from"./componentPropsProcessors-UJEZy8aQ.js";import{u as Le}from"./useValueControl-C51frgGe.js";import{C as iu}from"./Checkbox-FGVQIVhJ.js";import{T as be}from"./TruncateString-BGqQdUJ0.js";import{S as ru}from"./Switch-Ukoqt9to.js";import{C as ou}from"./index-CGBRtoFy.js";import{C as du}from"./index-DrT0s6v0.js";import{D as cu}from"./Dropdown-CY0dSXGI.js";import{C as mu}from"./index-C3mvkShn.js";import{r as pu}from"./index-Bxu_udwM.js";import{C as fu}from"./index-DHAmGKAZ.js";import{S as Je}from"./index-CXJdfWGn.js";import{u as Te}from"./LocaleProvider-CyhbxqE1.js";import{I as ve}from"./index-DBppJBl8.js";import{D as pe}from"./Divider-C1X9zrkx.js";import{S as hu}from"./Spinner-DwtrFO2L.js";import{S as Eu}from"./Scroll-B3e6J9cA.js";import{B as yu}from"./ButtonFunction-C2wuI7Dc.js";import{m as vu}from"./index-B7wZyJkK.js";import{u as _u,m as gu}from"./useButtonNavigation-CnLiqaIQ.js";import{u as Iu}from"./useClearButton-DHSlnD4l.js";import{I as Cu}from"./InputPrivate-Djwq4ATg.js";import{S as Du}from"./Sun-BLz2v2u6.js";const L={default:"~main",pinTop:"~pinTop",pinBottom:"~pinBottom",footer:"~footer",search:"~search",dropFocus:"~dropFocus"},bu="_accordion_1ubxl_1",Au="_contentWrapper_1ubxl_14",xu="_content_1ubxl_14",_e={accordion:bu,contentWrapper:Au,content:xu};function Ae({children:u,expanded:s,className:e,header:t,...n}){return r.jsxs("div",{className:T(_e.accordion,e),role:"menuitem","aria-haspopup":!0,"aria-expanded":s,...le(n),children:[t,r.jsx("div",{className:_e.contentWrapper,"aria-hidden":!s,children:r.jsx("div",{className:_e.content,"data-content":!0,children:s&&u})})]})}try{Ae.displayName="CollapseBlockPrivate",Ae.__docgenInfo={description:"",displayName:"CollapseBlockPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"ReactNode"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const he=m.createContext({value:void 0,onChange:void 0,mode:void 0});function xe(u){return"mode"in u&&u.mode==="multiple"}function Se(u){return"mode"in u&&u.mode==="single"}function Su({children:u}){return r.jsx(he.Provider,{value:{mode:"none"},children:u})}function Bu({value:u,defaultValue:s,onChange:e,children:t}){const[n,a]=Le({value:u,defaultValue:s,onChange:e}),l=m.useCallback(i=>a(o=>{if(i!==o)return i}),[a]);return r.jsx(he.Provider,{value:{value:n,onChange:l,mode:"single",isSelectionSingle:!0,isSelectionMultiple:!1,setValue:a},children:t})}function Vu({value:u,defaultValue:s,onChange:e,children:t}){const[n,a]=Le({value:u,defaultValue:s,onChange:e}),l=m.useCallback(i=>{a(o=>{if(Array.isArray(o))return o.includes(i)?o.filter(d=>d!==i):o.concat(i);if(o===void 0)return Array.isArray(i)?i:[i]})},[a]);return r.jsx(he.Provider,{value:{value:n,onChange:l,mode:"multiple",isSelectionSingle:!1,isSelectionMultiple:!0,setValue:a},children:t})}function He({children:u,...s}){return Se(s)?r.jsx(Bu,{...s,children:u}):xe(s)?r.jsx(Vu,{...s,children:u}):r.jsx(Su,{children:u})}function Y(){return m.useContext(he)}try{xe.displayName="isSelectionMultipleProps",xe.__docgenInfo={description:"",displayName:"isSelectionMultipleProps",props:{}}}catch{}try{Se.displayName="isSelectionSingleProps",Se.__docgenInfo={description:"",displayName:"isSelectionSingleProps",props:{}}}catch{}try{He.displayName="SelectionProvider",He.__docgenInfo={description:"",displayName:"SelectionProvider",props:{defaultValue:{defaultValue:null,description:"Начальное состояние",name:"defaultValue",required:!1,type:{name:"any"}},value:{defaultValue:null,description:"Controlled состояние",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"Controlled обработчик измения состояния",name:"onChange",required:!1,type:{name:"OnChangeHandler<any>"}},mode:{defaultValue:null,description:"Режим выбора",name:"mode",required:!1,type:{name:"enum",value:[{value:'"single"'},{value:'"multiple"'},{value:'"none"'}]}}}}}catch{}const Ue=m.createContext({}),Ze=()=>m.useContext(Ue),qu=m.createContext({}),Ye=()=>m.useContext(qu),Qe=m.createContext({flattenItems:{},focusFlattenItems:{},firstItemId:L.default});function O(){return m.useContext(Qe)}function Fu({size:u,marker:s,flattenItems:e,focusFlattenItems:t,contentRender:n,firstItemId:a,virtualized:l}){return{size:u,marker:s,contentRender:n,flattenItems:e,focusFlattenItems:t,firstItemId:a,virtualized:l}}function We({children:u,...s}){return r.jsx(Qe.Provider,{value:Fu(s),children:u})}try{We.displayName="NewListContextProvider",We.__docgenInfo={description:"",displayName:"NewListContextProvider",props:{size:{defaultValue:null,description:"Размер списка",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},marker:{defaultValue:null,description:"Отображать ли маркер у выбранного жлемента списка",name:"marker",required:!1,type:{name:"boolean"}},contentRender:{defaultValue:null,description:"Рендер функция основного контента айтема",name:"contentRender",required:!1,type:{name:"((props: ContentRenderProps) => ReactNode)"}},virtualized:{defaultValue:null,description:"",name:"virtualized",required:!1,type:{name:"boolean"}},flattenItems:{defaultValue:null,description:"",name:"flattenItems",required:!0,type:{name:"Record<string, FlattenItem>"}},focusFlattenItems:{defaultValue:null,description:"",name:"focusFlattenItems",required:!0,type:{name:"Record<string, FocusFlattenItem>"}},firstItemId:{defaultValue:null,description:"",name:"firstItemId",required:!1,type:{name:"ItemId"}}}}}catch{}const Mu=m.createContext({handleListKeyDownFactory:()=>()=>{}}),Nu=()=>m.useContext(Mu),wu=m.createContext({closeDroplist:()=>{},closeDroplistOnItemClick:!1}),Ru=()=>m.useContext(wu),Oe=u=>{u.stopPropagation()},ju={s:"xs",m:"s",l:"m"},ku="_separatorWithLabel_1p4tc_1",zu="_label_1p4tc_17",Lu="_separatorWithoutLabel_1p4tc_82",Tu="_divider_1p4tc_117",Ou="_selectButton_1p4tc_123",ue={separatorWithLabel:ku,label:zu,separatorWithoutLabel:Lu,divider:Tu,selectButton:Ou};function fe({label:u,truncate:s,divider:e,mode:t="secondary",selectButton:n}){const{size:a="s"}=O(),{t:l}=Te("List"),i=m.useMemo(()=>{if(!n)return null;const{onClick:o,checked:d,itemRef:c,label:g}=n;return r.jsx("span",{className:ue.selectButton,"data-size":a,"data-weight":e&&t||void 0,children:r.jsx(yu,{size:ju[a],tabIndex:0,onClick:f=>{o==null||o(f),f.preventDefault(),f.stopPropagation()},onFocus:Oe,ref:c,label:g??l(d?"groupSelectButton.reset":"groupSelectButton.select")})})},[e,t,n,a,l]);return u?r.jsxs("div",{className:ue.separatorWithLabel,"data-size":a,children:[r.jsx("span",{className:ue.label,"data-mode":t,children:r.jsx(be,{variant:s==null?void 0:s.variant,text:u,maxLines:1})}),r.jsxs("div",{style:{flex:1},children:[i,e&&r.jsx(pe,{weight:t==="primary"?"regular":"light",className:ue.divider})]})]}):e?r.jsx("div",{className:ue.separatorWithoutLabel,"data-size":a,children:r.jsx(pe,{weight:"regular"})}):null}try{fe.displayName="Separator",fe.__docgenInfo={description:"",displayName:"Separator",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:'{ variant?: "middle" | "end"; }'}},mode:{defaultValue:{value:"secondary"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},selectButton:{defaultValue:null,description:"",name:"selectButton",required:!1,type:{name:"{ onClick?(e: MouseEvent<HTMLElement, MouseEvent>): void; indeterminate?: boolean; checked?: boolean; itemRef?: ForwardedRef<...> | undefined; label?: string | undefined; } | undefined"}}}}}catch{}const Pu="_listEmptyStateWrapper_wis6u_1",ge={listEmptyStateWrapper:Pu};function Be({dataError:u,dataFiltered:s,hasNoItems:e,emptyStates:t,loading:n,size:a}){return n?null:u?r.jsx("div",{className:ge.listEmptyStateWrapper,children:r.jsx(ve,{...t.errorDataState,size:a,align:"vertical"})}):s&&e?r.jsx("div",{className:ge.listEmptyStateWrapper,children:r.jsx(ve,{...t.noResultsState,size:a,align:"vertical","data-test-id":"list__no-results"})}):!s&&e?r.jsx("div",{className:ge.listEmptyStateWrapper,children:r.jsx(ve,{...t.noDataState,size:a,align:"vertical","data-test-id":"list__no-data"})}):null}try{Be.displayName="ListEmptyState",Be.__docgenInfo={description:"",displayName:"ListEmptyState",props:{emptyStates:{defaultValue:null,description:"",name:"emptyStates",required:!0,type:{name:"{ noDataState: EmptyStateProps; noResultsState: EmptyStateProps; errorDataState: EmptyStateProps; }"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},hasNoItems:{defaultValue:null,description:"",name:"hasNoItems",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"s"'},{value:'"m"'},{value:'"l"'}]}}}}}catch{}function Hu({noDataState:u,noResultsState:s,errorDataState:e}){const{t}=Te("List");return m.useMemo(()=>{const n={icon:{icon:Je,appearance:"neutral",decor:!0},description:t("noData.description"),...u},a={description:t("noResults.description"),...s},l={icon:{icon:fu,appearance:"neutral",decor:!0},description:t("errorData.description"),...e};return{noDataState:n,noResultsState:a,errorDataState:l}},[e,u,s,t])}const Wu="_headline_zxt1a_1",Ku="_label_zxt1a_5",Gu="_caption_zxt1a_11",$u="_description_zxt1a_20",Xu="_content_zxt1a_24",te={headline:Wu,label:Ku,caption:Gu,description:$u,content:Xu},Ju={option:1,description:2,variant:"end"};function Ve({truncate:u,caption:s,description:e,option:t,className:n,disabled:a,...l}){const{size:i="s"}=O(),o=m.useMemo(()=>({...Ju,...u}),[u]);return r.jsxs("div",{className:T(te.content,n),...le(l),"data-size":i??"s","data-disabled":a||void 0,children:[r.jsxs("div",{className:te.headline,children:[r.jsx("div",{className:te.label,children:r.jsx(be,{variant:o.variant,text:String(t),maxLines:o.option,"data-test-id":"list__base-item-option"})}),s&&r.jsx("span",{className:te.caption,children:s})]}),e&&r.jsx("div",{className:te.description,children:r.jsx(be,{text:e,maxLines:o.description,"data-test-id":"list__base-item-description"})})]})}try{Ve.displayName="ItemContent",Ve.__docgenInfo={description:"",displayName:"ItemContent",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},option:{defaultValue:null,description:"",name:"option",required:!0,type:{name:"string | number"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:"TruncateProps"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Uu=u=>`${L.footer}__${u}`,eu=(u,s)=>[u,s].join("-"),v4=u=>eu(L.default,u),Zu="_itemWrapper_166nh_1",Yu="_listItem_166nh_40",qe={itemWrapper:Zu,listItem:Yu};function uu(u){return u&&!("items"in u)}function tu(u){return u&&"items"in u&&u.type==="collapse"}function Pe(u){return u&&"items"in u&&u.type==="next-list"}function ne(u){return u&&"items"in u&&u.type==="group"}function Ke(u){return u&&"items"in u&&u.type==="group-select"}function Qu(u){return typeof u=="object"&&u.option!==void 0}const _4=uu,g4=tu,I4=Pe,C4=ne;function D4({items:u,prefix:s,parentId:e}){const t={},n={};function a({item:c,idx:g,prefix:f,parentId:p=L.default}){const E=f!==void 0?eu(f,g):String(g),h=(ne(c)?void 0:c.id)??E;if(uu(c))return t[h]={...c,items:[],allChildIds:[],id:h},n[E]={key:E,originalId:h,id:E,disabled:c.disabled,parentId:p,items:[],allChildIds:[],itemRef:c.itemRef||m.createRef()},{id:h,children:[h],autoId:E,focusChildren:[E]};let y=[],_=[];const I=[],q=[],{items:B,...F}=c,R=ne(c)?p??L.default:E,S=B.filter(v=>!v.hidden);for(let v=0;v<S.length;v++){const{id:C,children:A,autoId:V,focusChildren:N}=a({item:S[v],idx:v,prefix:h,parentId:R});q.push(V),I.push(C),y=y.concat(A),_=_.concat(N)}const D=[...new Set(y.concat(I))],M=[...new Set(_.concat(q))];return t[h]={...F,id:h,items:[],allChildIds:D},n[E]={key:E,originalId:h,id:E,parentId:p,items:q,allChildIds:M,disabled:(c.type==="collapse"||c.type==="next-list")&&c.disabled,type:c.type,itemRef:ne(c)?void 0:c.itemRef??m.createRef()},{id:h,children:D,autoId:E,focusChildren:M}}const l=[];let i=[];const o=u.filter(c=>!c.hidden);for(let c=0;c<o.length;c++){const{id:g,children:f,autoId:p}=a({item:o[c],idx:c,prefix:s,parentId:e});l.push(p),i.push(g),i=i.concat(f)}const d=[...new Set(i)];return{focusCloseChildIds:l,allChildIds:d,flattenItems:t,focusFlattenItems:n}}function et({focusFlattenItems:u,focusCloseChildIds:s,openCollapseItems:e,isSelectionMultiple:t}){const n=[],a=[];function l(i){i.forEach(o=>{const d=u[o];if(d.type==="group"){l(d.items);return}if(!d.disabled){if(d.type==="group-select"){t&&n.push(d.id),l(d.items);return}n.push(d.id),d.type&&(a.push(o),e.includes(d.originalId)&&l(d.items))}})}return l(s),{ids:n,expandedIds:a}}const ut={s:"s",m:"s",l:"m"},tt="_checkbox_1rmvi_3",nt="_beforeContent_1rmvi_13",at="_expandableIcon_1rmvi_28",st="_markerContainer_1rmvi_35",lt="_droplistItem_1rmvi_54",it="_innerWrapper_1rmvi_91",rt="_content_1rmvi_118",G={checkbox:tt,beforeContent:nt,expandableIcon:at,markerContainer:st,droplistItem:lt,innerWrapper:it,content:rt};function ae({beforeContent:u,afterContent:s,content:e,onClick:t,onMouseDown:n,id:a,expandIcon:l,disabled:i,open:o,itemRef:d,switch:c,showSwitchIcon:g,onKeyDown:f,onFocus:p,indeterminate:E,checked:h,onSelect:y,onOpenNestedList:_,isParentNode:I,className:q,inactive:B,itemWrapRender:F,...R}){const S=!B,{size:D="s",marker:M,contentRender:v,firstItemId:C,focusFlattenItems:A}=O(),{level:V=0}=Ze(),{closeDroplist:N,closeDroplistOnItemClick:w}=Ru(),{value:j,onChange:K,mode:P,isSelectionSingle:x,isSelectionMultiple:H}=Y(),k=x?h??j===a:h??(j==null?void 0:j.includes(a??"")),Q=()=>{K==null||K(a)},Ee=b=>{i||n==null||n(b)},ie=b=>{p==null||p(b),b.stopPropagation()},X=()=>{I&&y?y():Q()},z=b=>{i||(t==null||t(b),S&&(I||Q()),!H&&w&&N())},ee=b=>{if(f==null||f(b),b.key==="ArrowRight"&&_){_(b),b.preventDefault(),b.stopPropagation();return}(b.code==="Space"||b.key==="Enter"||b.key===" ")&&(H&&I&&y&&y(),!I&&Q(),!I&&(z==null||z(b)),b.stopPropagation(),b.preventDefault())},re=b=>{I&&b.stopPropagation()},oe=le(R),de=r.jsx("div",{className:T(qe.itemWrapper,G.innerWrapper,q),"data-inactive":B||void 0,"data-disabled":i||void 0,"data-variant":P||void 0,"data-checked":I&&k||!I&&k&&!c||void 0,children:r.jsxs("li",{"data-type":"outside",role:"menuitem","data-test-id":oe["data-test-id"]||"list__base-item_"+a,ref:d,className:T(qe.listItem,G.droplistItem),"data-size":D,onClick:z,onMouseDown:Ee,tabIndex:C&&a===A[C].originalId?0:-1,"data-non-pointer":B&&!t,"data-variant":P||void 0,"data-open":o||void 0,onKeyDown:ee,onFocus:ie,style:{"--level":V},"data-level-one":V===1||void 0,"data-level-more-one":V>1||void 0,"data-checked":I&&(E||k)||k&&!c||void 0,children:[!c&&x&&M&&!I&&S&&r.jsx("div",{className:G.markerContainer,"data-test-id":"list__base-item-marker"}),!c&&H&&S&&r.jsx("div",{className:G.checkbox,children:r.jsx(iu,{size:ut[D??"s"],disabled:i,tabIndex:-1,onChange:I?X:void 0,checked:k,"data-test-id":"list__base-item-checkbox",onClick:re,indeterminate:E})}),u&&r.jsx("div",{className:G.beforeContent,children:u}),e&&Qu(e)?(v==null?void 0:v({id:a,content:e,disabled:i}))??r.jsx(Ve,{disabled:i,...e}):r.jsxs("div",{className:G.content,children:[" ",e," "]}),s,c&&S&&r.jsx(ru,{disabled:i,checked:k,"data-test-id":"list__base-item-switch",showIcon:g}),!c&&l&&r.jsx("span",{className:G.expandableIcon,children:l})]})});return F?F(de):de}try{ae.displayName="BaseItem",ae.__docgenInfo={description:"",displayName:"BaseItem",props:{id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},inactive:{defaultValue:null,description:`Флаг отображения отключения реакции на любое css состояние (hover/focus и тд)
<br>
Так же элемент пропадает из навигации с клавиатуры, и не может быть выбран (selection)`,name:"inactive",required:!1,type:{name:"boolean"}},switch:{defaultValue:null,description:"Флаг отображения состояния выбранного элемента через switch",name:"switch",required:!1,type:{name:"boolean"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},expandIcon:{defaultValue:null,description:"",name:"expandIcon",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"(() => void)"}},isParentNode:{defaultValue:null,description:"",name:"isParentNode",required:!1,type:{name:"boolean"}},onOpenNestedList:{defaultValue:null,description:"",name:"onOpenNestedList",required:!1,type:{name:"((e?: KeyboardEvent<HTMLElement>) => void)"}}}}}catch{}function Fe({id:u,disabled:s,allChildIds:e,items:t,...n}){const{level:a=0}=Ze(),{openCollapseItems:l=[],toggleOpenCollapseItem:i}=Ye(),{value:o,isSelectionSingle:d,isSelectionMultiple:c}=Y(),{indeterminate:g,handleOnSelect:f,checked:p}=se({id:u,allChildIds:e}),E=!!l.includes(u??""),h=!!(g&&!E&&d&&o&&e.includes(o)||c&&p),y=m.useCallback(()=>{i==null||i(u??"")},[u,i]),_=$(t),I=q=>{var B;i==null||i(u??""),(B=n.onClick)==null||B.call(n,q)};return r.jsx(Ae,{header:r.jsx(ae,{...n,id:u,disabled:s,expandIcon:E?r.jsx(ou,{}):r.jsx(du,{}),onClick:I,isParentNode:!0,onOpenNestedList:y,checked:h,indeterminate:g,onSelect:s?void 0:f}),expanded:E,"data-test-id":`list__accordion-item-${u}`,children:r.jsx(Ue.Provider,{value:{level:a+1},children:_})})}try{Fe.displayName="AccordionItem",Fe.__docgenInfo={description:"",displayName:"AccordionItem",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"collapse"'}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}}}}}catch{}function Me({label:u,truncate:s,divider:e,items:t,mode:n,id:a,itemRef:l,allChildIds:i,selectButtonLabel:o}){const{indeterminate:d,checked:c,handleOnSelect:g}=se({id:a,allChildIds:i}),f=$(t);return r.jsxs(r.Fragment,{children:[r.jsx(fe,{label:u,truncate:s,divider:e,mode:n,selectButton:{indeterminate:d,checked:c,itemRef:l,onClick:g,label:o}}),f]})}try{Me.displayName="GroupSelectItem",Me.__docgenInfo={description:"",displayName:"GroupSelectItem",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"ItemId"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:'{ variant?: "middle" | "end"; }'}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},selectButtonLabel:{defaultValue:null,description:"",name:"selectButtonLabel",required:!1,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}}}}}catch{}function U(u,s,e){let t=e.initialDeps??[],n;return()=>{var a,l,i,o;let d;e.key&&((a=e.debug)!=null&&a.call(e))&&(d=Date.now());const c=u();if(!(c.length!==t.length||c.some((p,E)=>t[E]!==p)))return n;t=c;let f;if(e.key&&((l=e.debug)!=null&&l.call(e))&&(f=Date.now()),n=s(...c),e.key&&((i=e.debug)!=null&&i.call(e))){const p=Math.round((Date.now()-d)*100)/100,E=Math.round((Date.now()-f)*100)/100,h=E/16,y=(_,I)=>{for(_=String(_);_.length<I;)_=" "+_;return _};console.info(`%c⏱ ${y(E,5)} /${y(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(o=e==null?void 0:e.onChange)==null||o.call(e,n),n}}function Ie(u,s){if(u===void 0)throw new Error("Unexpected undefined");return u}const ot=(u,s)=>Math.abs(u-s)<1,dt=(u,s,e)=>{let t;return function(...n){u.clearTimeout(t),t=u.setTimeout(()=>s.apply(this,n),e)}},ct=u=>u,mt=u=>{const s=Math.max(u.startIndex-u.overscan,0),e=Math.min(u.endIndex+u.overscan,u.count-1),t=[];for(let n=s;n<=e;n++)t.push(n);return t},pt=(u,s)=>{const e=u.scrollElement;if(!e)return;const t=u.targetWindow;if(!t)return;const n=l=>{const{width:i,height:o}=l;s({width:Math.round(i),height:Math.round(o)})};if(n(e.getBoundingClientRect()),!t.ResizeObserver)return()=>{};const a=new t.ResizeObserver(l=>{const i=l[0];if(i!=null&&i.borderBoxSize){const o=i.borderBoxSize[0];if(o){n({width:o.inlineSize,height:o.blockSize});return}}n(e.getBoundingClientRect())});return a.observe(e,{box:"border-box"}),()=>{a.unobserve(e)}},Ge={passive:!0},ft=typeof window>"u"?!0:"onscrollend"in window,ht=(u,s)=>{const e=u.scrollElement;if(!e)return;const t=u.targetWindow;if(!t)return;let n=0;const a=u.options.useScrollendEvent&&ft?()=>{}:dt(t,()=>{s(n,!1)},u.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:c,isRtl:g}=u.options;n=c?e.scrollLeft*(g&&-1||1):e.scrollTop,a(),s(n,d)},i=l(!0),o=l(!1);return o(),e.addEventListener("scroll",i,Ge),e.addEventListener("scrollend",o,Ge),()=>{e.removeEventListener("scroll",i),e.removeEventListener("scrollend",o)}},Et=(u,s,e)=>{if(s!=null&&s.borderBoxSize){const t=s.borderBoxSize[0];if(t)return Math.round(t[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(u.getBoundingClientRect()[e.options.horizontal?"width":"height"])},yt=(u,{adjustments:s=0,behavior:e},t)=>{var n,a;const l=u+s;(a=(n=t.scrollElement)==null?void 0:n.scrollTo)==null||a.call(n,{[t.options.horizontal?"left":"top"]:l,behavior:e})};class vt{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(n=>{n.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var n;(n=t())==null||n.disconnect(),e=null},observe:n=>{var a;return(a=t())==null?void 0:a.observe(n,{box:"border-box"})},unobserve:n=>{var a;return(a=t())==null?void 0:a.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{typeof n>"u"&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ct,rangeExtractor:mt,onChange:()=>{},measureElement:Et,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var t,n;(n=(t=this.options).onChange)==null||n.call(t,this,e)},this.maybeNotify=U(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,a=new Map;for(let l=t-1;l>=0;l--){const i=e[l];if(n.has(i.lane))continue;const o=a.get(i.lane);if(o==null||i.end>o.end?a.set(i.lane,i):i.end<o.end&&n.set(i.lane,!0),n.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,i)=>l.end===i.end?l.index-i.index:l.end-i.end)[0]:void 0},this.getMeasurementOptions=U(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,a,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:a,enabled:l}),{key:!1}),this.getMeasurements=U(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:a,enabled:l},i)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,o);for(let c=o;c<e;c++){const g=a(c),f=this.options.lanes===1?d[c-1]:this.getFurthestMeasurement(d,c),p=f?f.end+this.options.gap:t+n,E=i.get(g),h=typeof E=="number"?E:this.options.estimateSize(c),y=p+h,_=f?f.lane:c%this.options.lanes;d[c]={index:c,start:p,size:h,end:y,key:g,lane:_}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=U(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,t,n)=>this.range=e.length>0&&t>0?_t({measurements:e,outerSize:t,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=U(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,t,n,a)=>t===null?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),a=this.measurementsCache[n];if(!a)return;const l=a.key,i=this.elementsCache.get(l);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const a=this.itemSizeCache.get(n.key)??n.size,l=t-a;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((t,n)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(n))});return}this._measureElement(e,void 0)},this.getVirtualItems=U(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let a=0,l=e.length;a<l;a++){const i=e[a],o=t[i];n.push(o)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(t.length!==0)return Ie(t[nu(0,t.length-1,n=>Ie(t[n]).start,e)])},this.getOffsetForAlignment=(e,t)=>{const n=this.getSize(),a=this.getScrollOffset();t==="auto"&&e>=a+n&&(t="end"),t==="end"&&(e-=n);const l=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-n;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const a=this.getSize(),l=this.getScrollOffset();if(t==="auto")if(n.end>=l+a-this.options.scrollPaddingEnd)t="end";else if(n.start<=l+this.options.scrollPaddingStart)t="start";else return[l,t];const i=n.start-this.options.scrollPaddingStart+(n.size-a)/2;switch(t){case"center":return[this.getOffsetForAlignment(i,t),t];case"end":return[this.getOffsetForAlignment(n.end+this.options.scrollPaddingEnd,t),t];default:return[this.getOffsetForAlignment(n.start-this.options.scrollPaddingStart,t),t]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(e,t);if(!a)return;const[l,i]=a;this._scrollToOffset(l,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[d]=Ie(this.getOffsetForIndex(e,i));ot(d,this.getScrollOffset())||this.scrollToIndex(e,{align:i,behavior:n})}else this.scrollToIndex(e,{align:i,behavior:n})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;return t.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((e=t[t.length-1])==null?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(a=>a.end)),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const nu=(u,s,e,t)=>{for(;u<=s;){const n=(u+s)/2|0,a=e(n);if(a<t)u=n+1;else if(a>t)s=n-1;else return n}return u>0?u-1:0};function _t({measurements:u,outerSize:s,scrollOffset:e}){const t=u.length-1,a=nu(0,t,i=>u[i].start,e);let l=a;for(;l<t&&u[l].end<e+s;)l++;return{startIndex:a,endIndex:l}}const $e=typeof document<"u"?m.useLayoutEffect:m.useEffect;function gt(u){const s=m.useReducer(()=>({}),{})[1],e={...u,onChange:(n,a)=>{var l;a?pu.flushSync(s):s(),(l=u.onChange)==null||l.call(u,n,a)}},[t]=m.useState(()=>new vt(e));return t.setOptions(e),$e(()=>t._didMount(),[]),$e(()=>t._willUpdate()),t}function It(u){return gt({observeElementRect:pt,observeElementOffset:ht,scrollToFn:yt,...u})}const Ct="_listContainer_d0dnw_1",Dt="_wrapper_d0dnw_27",bt="_scrollContainerS_d0dnw_46",At="_scrollContainerM_d0dnw_51",xt="_scrollContainerL_d0dnw_56",me={listContainer:Ct,wrapper:Dt,scrollContainerS:bt,scrollContainerM:At,scrollContainerL:xt},St=48,Bt=40,Vt=32,qt={m:Bt,s:Vt,l:St},Ft="_loader_1dfg5_1",Mt="_scrollStub_1dfg5_35",Nt="_footer_1dfg5_41",wt="_content_1dfg5_48",Rt="_virtualizedContainer_1dfg5_53",jt="_virtualizedPositionBox_1dfg5_58",Z={loader:Ft,scrollStub:Mt,footer:Nt,content:wt,virtualizedContainer:Rt,virtualizedPositionBox:jt},Ne=m.forwardRef(({items:u,pinTop:s,pinBottom:e,onKeyDown:t,onBlur:n,onFocus:a,tabIndex:l,active:i,scroll:o,nested:d,search:c,searchItem:g,scrollRef:f,scrollContainerRef:p,onScroll:E,footer:h,loading:y,limitedScrollHeight:_,untouchableScrollbars:I,className:q,noDataState:B,noResultsState:F,errorDataState:R,dataError:S,dataFiltered:D,scrollToSelectedItem:M=!1,virtualized:v=!1,scrollContainerClassName:C,barHideStrategy:A="never",...V},N)=>{const{size:w="s",flattenItems:j,focusFlattenItems:K}=O(),{value:P,isSelectionSingle:x}=Y(),H=m.useRef(null),k=$(u),Q=$(s),Ee=$(e),ie=Hu({noDataState:B,noResultsState:F,errorDataState:R}),X=u.length===0,z=It({count:k.length,getScrollElement:()=>o?H.current:null,estimateSize:()=>qt[w],enabled:v}),ee=z.getVirtualItems();m.useEffect(()=>{z.measure()},[z]);const re=m.useMemo(()=>y&&r.jsx("div",{role:"spinbutton",tabIndex:-1,className:Z.loader,"data-size":w,"data-no-items":X||void 0,"data-test-id":"list__loader",children:r.jsx(hu,{size:w==="l"?"s":"xs"})}),[X,y,w]),oe=m.useMemo(()=>{var W;return r.jsxs("div",{className:Z.content,children:[v?r.jsx("div",{className:Z.virtualizedContainer,style:{height:z.getTotalSize()},tabIndex:-1,children:r.jsx("div",{className:Z.virtualizedPositionBox,style:{transform:`translateY(${((W=ee[0])==null?void 0:W.start)??0}px)`},tabIndex:-1,children:ee.map(J=>r.jsx("div",{"data-index":J.index,ref:z.measureElement,tabIndex:-1,children:k[J.index]},J.key))})}):k,re,r.jsx(Be,{loading:y,dataError:S,emptyStates:ie,hasNoItems:X,dataFiltered:D??!!(c!=null&&c.value),size:w})]})},[S,D,ie,X,k,y,re,c==null?void 0:c.value,w,ee,v,z]),de=()=>{var W,J;if(M){if(!P)return;const ce=x?j[P]:j[P[0]];if(!(ce!=null&&ce.id))return;const ye=Object.values(K).find(lu=>lu.originalId===ce.id);(J=(W=ye==null?void 0:ye.itemRef)==null?void 0:W.current)==null||J.scrollIntoView({block:"center"})}},b=r.jsxs("ul",{className:T(me.listContainer,q),ref:N,onKeyDown:t,tabIndex:l,onFocus:a,onBlur:n,"data-active":i||void 0,role:"menu",...le(V),children:[(Number(s==null?void 0:s.length)>0||c)&&r.jsxs(ke,{children:[c&&r.jsx(je,{search:c,...g}),Number(s==null?void 0:s.length)>0&&Q]}),o?r.jsxs(Eu,{className:T({[me.scrollContainerS]:o&&_&&w==="s",[me.scrollContainerM]:o&&_&&w==="m",[me.scrollContainerL]:o&&_&&w==="l"},C),barHideStrategy:A,size:w==="s"?"s":"m",ref:W=>{H.current=W,p&&(p.current=W)},untouchableScrollbars:I,onScroll:E,onInitialized:de,children:[oe,r.jsx("div",{className:Z.scrollStub,ref:f})]}):r.jsx(r.Fragment,{children:oe}),Number(e==null?void 0:e.length)>0&&r.jsx(ze,{children:Ee}),h&&r.jsx("div",{className:Z.footer,onFocus:Oe,children:h})]});return d?r.jsx("li",{style:{listStyleType:"none"},role:"menuitem",children:b}):b});try{Ne.displayName="ListPrivate",Ne.__docgenInfo={description:"",displayName:"ListPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"Флаг, отвещающий за состояние загрузки списка",name:"loading",required:!1,type:{name:"boolean"}},onKeyDown:{defaultValue:null,description:"Обработчик события по нажатию клавиш",name:"onKeyDown",required:!1,type:{name:"(((e: KeyboardEvent<HTMLElement>) => void) & ((e: KeyboardEvent<HTMLElement>) => void))"}},size:{defaultValue:null,description:"Размер списка",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},tabIndex:{defaultValue:null,description:"Tab Index",name:"tabIndex",required:!1,type:{name:"number"}},keyboardNavigationRef:{defaultValue:null,description:"Ссылка на управление навигацией листа с клавиатуры",name:"keyboardNavigationRef",required:!1,type:{name:"RefObject<{ focusItem(id: ItemId): void; }>"}},footer:{defaultValue:null,description:"Кастомизируемый элемент в конце списка",name:"footer",required:!1,type:{name:"ReactNode ;"}},footerActiveElementsRefs:{defaultValue:null,description:"Список ссылок на кастомные элементы, помещенные в специальную секцию внизу списка",name:"footerActiveElementsRefs",required:!1,type:{name:"RefObject<HTMLElement>[]"}},search:{defaultValue:null,description:"Настройки поисковой строки",name:"search",required:!1,type:{name:"SearchState"}},collapse:{defaultValue:null,description:"Настройки раскрытия элементов",name:"collapse",required:!1,type:{name:"CollapseState"}},scrollToSelectedItem:{defaultValue:{value:"false"},description:"Флаг, отвещающий за прокручивание до выбранного элемента",name:"scrollToSelectedItem",required:!1,type:{name:"boolean"}},scrollContainerClassName:{defaultValue:null,description:"CSS-класс для scroll обертки основного списка айтемов",name:"scrollContainerClassName",required:!1,type:{name:"string"}},virtualized:{defaultValue:{value:"false"},description:"Включить виртуализацию на компоненты списка. Рекомендуется если у вас от 1к элементов списка",name:"virtualized",required:!1,type:{name:"boolean"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"SelectionMultipleState | SelectionSingleState"}},marker:{defaultValue:null,description:"Отображать ли маркер у выбранного жлемента списка",name:"marker",required:!1,type:{name:"boolean"}},contentRender:{defaultValue:null,description:"Рендер функция основного контента айтема",name:"contentRender",required:!1,type:{name:"((props: ContentRenderProps) => ReactNode)"}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"Ссылка на элемент, обозначающий самый конец прокручиваемого списка",name:"scrollRef",required:!1,type:{name:"RefObject<HTMLElement>"}},scrollContainerRef:{defaultValue:null,description:"Ссылка на контейнер, который скроллится",name:"scrollContainerRef",required:!1,type:{name:"RefObject<HTMLElement>"}},untouchableScrollbars:{defaultValue:null,description:"Отключает возможность взаимодействовать со скролбарами мышью.",name:"untouchableScrollbars",required:!1,type:{name:"boolean"}},barHideStrategy:{defaultValue:{value:"never"},description:"Управление скрытием скролл баров:\n<br> - `Never` - показывать всегда\n<br> - `Leave` - скрывать когда курсор покидает компонент\n<br> - `Scroll` - показывать только когда происходит скроллинг\n<br> - `Move` - показывать при движении курсора над компонентом",name:"barHideStrategy",required:!1,type:{name:"enum",value:[{value:'"move"'},{value:'"scroll"'},{value:'"never"'},{value:'"leave"'}]}},onScroll:{defaultValue:null,description:"Колбек на скролл прокручиваемого списка",name:"onScroll",required:!1,type:{name:"((event?: Event) => void)"}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},noDataState:{defaultValue:null,description:"Экран при отстутствии данных",name:"noDataState",required:!1,type:{name:"EmptyStateProps"}},noResultsState:{defaultValue:null,description:"Экран при отстутствии результатов поиска или фильтров",name:"noResultsState",required:!1,type:{name:"EmptyStateProps"}},errorDataState:{defaultValue:null,description:"Экран при ошибке запроса",name:"errorDataState",required:!1,type:{name:"EmptyStateProps"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},limitedScrollHeight:{defaultValue:null,description:"",name:"limitedScrollHeight",required:!1,type:{name:"boolean"}},searchItem:{defaultValue:null,description:"",name:"searchItem",required:!1,type:{name:"FlattenBaseItem"}},pinTop:{defaultValue:null,description:"",name:"pinTop",required:!1,type:{name:"ItemId[]"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},pinBottom:{defaultValue:null,description:"",name:"pinBottom",required:!1,type:{name:"ItemId[]"}}}}}catch{}const kt=["right","right-start","right-end","left","left-start","left-end","bottom","top"];function we({items:u,placement:s="right-start",id:e,scroll:t,scrollRef:n,disabled:a,onSublistOpenChanged:l,allChildIds:i,loading:o=!1,focusId:d=e,untouchableScrollbars:c=!1,...g}){const{flattenItems:f,focusFlattenItems:p,virtualized:E}=O(),{value:h,isSelectionSingle:y,isSelectionMultiple:_}=Y(),{openCollapseItems:I=[]}=Ye(),q=f[e],{ids:B,expandedIds:F}=m.useMemo(()=>{const{ids:x,expandedIds:H}=et({focusCloseChildIds:u,focusFlattenItems:p,openCollapseItems:I,isSelectionMultiple:_});return{ids:x,expandedIds:H.concat([e])}},[p,e,_,u,I]),{handleListKeyDownFactory:R,activeItemId:S,forceUpdateActiveItemId:D}=Nu(),[M,v]=m.useState(),C=m.useCallback(x=>{if(R(B,F)(x),x.key==="ArrowLeft"){D==null||D(d),v(!1),x.stopPropagation();return}},[R,B,F,D,d]),{indeterminate:A,checked:V,handleOnSelect:N}=se({items:Pe(q)?q.items:[],id:e,allChildIds:i}),w=m.useCallback(()=>(D==null||D(L.dropFocus),v(!1),!0),[D]),j=m.useMemo(()=>!!(!a&&S&&p[d].allChildIds.includes(S)),[S,a,p,d]),K=!!(A&&!M&&y&&h&&i.includes(h)||_&&V);m.useEffect(()=>{v(x=>x&&j)},[e,j]);const P=m.useRef(null);return r.jsx(cu,{outsideClick:w,fallbackPlacements:kt,content:r.jsx(Ne,{onKeyDown:C,items:u,nested:!0,scroll:t,virtualized:E,tabIndex:0,ref:P,onFocus:x=>{x.stopPropagation(),D==null||D(B[0])},scrollRef:n,limitedScrollHeight:!0,untouchableScrollbars:c,loading:o}),trigger:"hover",open:j||M,onOpenChange:x=>{v(x),l==null||l(x,e)},placement:s,widthStrategy:"auto",children:r.jsx(ae,{...g,disabled:a,open:M,expandIcon:r.jsx(mu,{}),id:e,isParentNode:!0,indeterminate:A,checked:K,onOpenNestedList:()=>{v(!0),setTimeout(()=>{var x;(x=P.current)==null||x.focus()},0)},onSelect:N})})}try{we.displayName="NextListItem",we.__docgenInfo={description:"",displayName:"NextListItem",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},placement:{defaultValue:{value:"right-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'}]}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"Ссылка на элемент, обозначающий самый конец прокручиваемого списка",name:"scrollRef",required:!1,type:{name:"RefObject<HTMLElement>"}},scrollContainerRef:{defaultValue:null,description:"Ссылка на контейнер, который скроллится",name:"scrollContainerRef",required:!1,type:{name:"RefObject<HTMLElement>"}},untouchableScrollbars:{defaultValue:{value:"false"},description:"Отключает возможность взаимодействовать со скролбарами мышью.",name:"untouchableScrollbars",required:!1,type:{name:"boolean"}},barHideStrategy:{defaultValue:null,description:"Управление скрытием скролл баров:\n<br> - `Never` - показывать всегда\n<br> - `Leave` - скрывать когда курсор покидает компонент\n<br> - `Scroll` - показывать только когда происходит скроллинг\n<br> - `Move` - показывать при движении курсора над компонентом",name:"barHideStrategy",required:!1,type:{name:"enum",value:[{value:'"move"'},{value:'"scroll"'},{value:'"never"'},{value:'"leave"'}]}},onScroll:{defaultValue:null,description:"Колбек на скролл прокручиваемого списка",name:"onScroll",required:!1,type:{name:"((event?: Event) => void)"}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},onSublistOpenChanged:{defaultValue:null,description:"",name:"onSublistOpenChanged",required:!1,type:{name:"((open: boolean, id?: ItemId) => void)"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}},focusId:{defaultValue:null,description:"",name:"focusId",required:!1,type:{name:"ItemId"}}}}}catch{}function au({focusCloseChildIds:u,focusFlattenItems:s,flattenItems:e,isSelectionMultiple:t}){return u?u.flatMap(n=>{const{itemRef:a,key:l,originalId:i,items:o}=s[n],d=e[i];if(ne(d)||!t&&Ke(d)){const c=au({focusCloseChildIds:o,focusFlattenItems:s,flattenItems:e,isSelectionMultiple:t});return[r.jsx(fe,{label:d.label,truncate:d.truncate,divider:d.divider,mode:d.mode},l+"_separator"),...c]}return Ke(d)?m.createElement(Me,{...d,items:o,itemRef:a,key:l}):tu(d)?m.createElement(Fe,{...d,items:o,itemRef:a,key:l}):Pe(d)?m.createElement(we,{...d,focusId:n,items:o,itemRef:a,key:l}):m.createElement(ae,{...d,itemRef:a,key:l})}):[null]}function $(u){const{focusFlattenItems:s,flattenItems:e}=O(),{isSelectionMultiple:t}=Y();return m.useMemo(()=>au({flattenItems:e,focusFlattenItems:s,focusCloseChildIds:u,isSelectionMultiple:t}),[e,u,s,t])}function Xe({footerActiveElementsRefs:u}){return m.useMemo(()=>({searchItem:{itemRef:m.createRef(),id:L.search,parentId:L.default,items:[],allChildIds:[]},footerItems:(u==null?void 0:u.map((s,e)=>({id:Uu(e),itemRef:s,parentId:L.default,items:[],allChildIds:[]})))??[]}),[u])}function se({id:u,allChildIds:s}){const{value:e,setValue:t,isSelectionMultiple:n}=Y(),{flattenItems:a}=O(),l=m.useMemo(()=>s.filter(f=>{const p=a[f];return p&&!("type"in p)}),[s,a]),i=m.useMemo(()=>l.filter(f=>{const p=a[f];return p&&!("type"in p)&&!p.disabled}),[l,a]),o=n?e&&!!e.length&&l.every(f=>e==null?void 0:e.includes(f)):void 0,d=n?e&&!!e.length&&i.every(f=>e==null?void 0:e.includes(f)):void 0,c=n?!o&&l.some(f=>e==null?void 0:e.includes(f)):l.includes(e??"");return{checked:o,indeterminate:c,handleOnSelect:()=>{if(o||d){t==null||t(f=>(f??[]).filter(p=>p!==u&&!i.includes(p)));return}t==null||t(f=>Array.from(new Set([...f??[],...i])))}}}try{$.displayName="useRenderItems",$.__docgenInfo={description:"",displayName:"useRenderItems",props:{}}}catch{}try{Xe.displayName="useCreateBaseItems",Xe.__docgenInfo={description:"",displayName:"useCreateBaseItems",props:{search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"boolean"}},footerActiveElementsRefs:{defaultValue:null,description:"",name:"footerActiveElementsRefs",required:!1,type:{name:"RefObject<HTMLElement>[]"}}}}}catch{}try{se.displayName="useGroupItemSelection",se.__docgenInfo={description:"",displayName:"useGroupItemSelection",props:{allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"ItemId"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const zt={S:"s"},Ce={input:"search__field-input",iconSun:"search__icon-sun",iconSearch:"search__icon-search"},Lt="_container_rbn5l_1",Tt="_postfix_rbn5l_56",Ot="_prefix_rbn5l_62",De={container:Lt,postfix:Tt,prefix:Ot},Re=m.forwardRef(function({size:s=zt.S,value:e="",onChange:t,loading:n,placeholder:a,onKeyDown:l,onFocus:i,onBlur:o,onSubmit:d,className:c,tabIndex:g,...f},p){const[E="",h]=Le({value:e,defaultValue:"",onChange:t}),y=m.useRef(null),_=m.useRef(null),{t:I}=Te("SearchPrivate"),F=Iu({clearButtonRef:_,showClearButton:!!E,size:s,onClear:()=>{var C;h(""),(C=y.current)==null||C.focus()}}),{postfixButtons:R,inputTabIndex:S,onInputKeyDown:D}=_u({inputRef:y,postfixButtons:m.useMemo(()=>[F],[F]),readonly:!1,submitKeys:["Enter","Space"]}),M=m.useCallback(C=>{var A;l&&l(C),D(C),C.key==="Enter"&&((A=y.current)!=null&&A.value)&&d&&d(y.current.value)},[D,l,d]),v=m.useCallback(C=>{i&&i(C),gu(y.current)},[i]);return r.jsxs("div",{className:T(De.container,c),...le(f),"data-size":s,children:[r.jsx("span",{className:De.prefix,children:n?r.jsx(Du,{"data-test-id":Ce.iconSun}):r.jsx(Je,{"data-test-id":Ce.iconSearch})}),r.jsx(Cu,{value:E,onChange:h,onKeyDown:M,onFocus:v,onBlur:o,tabIndex:g??S,ref:vu(p,y),placeholder:a??I("placeholder"),type:"text","data-test-id":Ce.input}),r.jsx("span",{className:De.postfix,children:R})]})});try{Re.displayName="SearchPrivate",Re.__docgenInfo={description:"",displayName:"SearchPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},loading:{defaultValue:null,description:"Состояние загрузки",name:"loading",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"Колбек на подтверждение поиска по строке",name:"onSubmit",required:!1,type:{name:"((value: string) => void)"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},onKeyDown:{defaultValue:null,description:"Колбек обработки начала нажатия клавиши клавиатуры",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки получения фокуса",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Колбек обработки потери фокуса",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},value:{defaultValue:null,description:"Значение input",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Колбек смены значения",name:"onChange",required:!1,type:{name:"((value: string, e?: ChangeEvent<HTMLInputElement>) => void)"}},placeholder:{defaultValue:null,description:"Значение плейсхолдера",name:"placeholder",required:!1,type:{name:"string"}}}}}catch{}const Pt="_searchItem_1m87n_1",Ht={searchItem:Pt};function je({search:u,itemRef:s}){const{size:e="s",firstItemId:t}=O(),n=a=>{["ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault()};return u?r.jsx("div",{className:T(qe.listItem,Ht.searchItem),"data-size":e,"data-test-id":"list__search-item",children:r.jsx(Re,{size:e,tabIndex:L.search===t?0:-1,onKeyDown:n,onFocus:Oe,...u,ref:s})}):null}try{je.displayName="SearchItem",je.__docgenInfo={description:"",displayName:"SearchItem",props:{search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"SearchState"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}}}}}catch{}const Wt="_pinTopItem_5pnxc_1",Kt="_pinBottomItem_5pnxc_23",su={pinTopItem:Wt,pinBottomItem:Kt};function ke({children:u}){const{size:s="s"}=O();return u?r.jsxs("div",{className:T(su.pinTopItem),"data-size":s,"data-test-id":"list__pin-top-group-item",children:[r.jsx("div",{children:u}),r.jsx(pe,{weight:"regular"})]}):null}function ze({children:u}){const{size:s="s"}=O();return u?r.jsxs("div",{className:T(su.pinBottomItem),"data-size":s,"data-test-id":"list__pin-bottom-group-item",children:[r.jsx(pe,{weight:"regular"}),r.jsx("div",{children:u})]}):null}try{ke.displayName="PinTopGroupItem",ke.__docgenInfo={description:"",displayName:"PinTopGroupItem",props:{}}}catch{}try{ze.displayName="PinBottomGroupItem",ze.__docgenInfo={description:"",displayName:"PinBottomGroupItem",props:{}}}catch{}function b4({mainRef:u,btnRef:s,focusFlattenItems:e,keyboardNavigationRef:t,hasListInFocusChain:n,firstItemId:a}){const l=n?void 0:a,[i,o]=m.useState(()=>l),d=m.useRef(l),c=m.useCallback(()=>{o(l),d.current=l},[l]),g=m.useCallback((p,E)=>h=>{var y,_,I,q,B,F,R,S,D,M;switch(h.key){case"ArrowDown":{if(d.current!==void 0){const v=p.findIndex(N=>N===d.current),C=Math.min(v+1,p.length-1),A=p[C],V=e[A];d.current=A,o(A),V.type!=="group"&&((_=(y=V.itemRef)==null?void 0:y.current)==null||_.focus())}else{const v=p[0],C=e[v];d.current=v,o(v),C.type!=="group"&&((q=(I=C.itemRef)==null?void 0:I.current)==null||q.focus())}h.stopPropagation(),h.preventDefault();return}case"ArrowUp":{if(p[0]===d.current)n&&e[p[0]].parentId===L.default&&(d.current=void 0,o(void 0),(B=u==null?void 0:u.current)==null||B.focus());else if(d.current!==void 0){const v=p.findIndex(N=>N===d.current),C=Math.max(v-1,0),A=p[C],V=e[A];d.current=A,o(A),V.type!=="group"&&((R=(F=V.itemRef)==null?void 0:F.current)==null||R.focus())}h.stopPropagation(),h.preventDefault();return}case"ArrowRight":{if(d.current!==void 0&&E.includes(d.current)){const C=e[d.current].items[0],A=e[C];d.current=C,o(C),setTimeout(()=>{var V,N;return(N=(V=A.itemRef)==null?void 0:V.current)==null?void 0:N.focus()},0),h.stopPropagation(),h.preventDefault()}return}case"Tab":{d.current!==void 0?n?(h.preventDefault(),h.stopPropagation(),d.current=void 0,o(void 0),(S=u==null?void 0:u.current)==null||S.focus()):c():s&&!h.shiftKey?(D=s==null?void 0:s.current)==null||D.focus():(M=u==null?void 0:u.current)==null||M.focus();return}default:return}},[e,n,u,c,s]),f=m.useCallback(p=>{var h,y;o(p),d.current=p;const E=e[p];(y=(h=E==null?void 0:E.itemRef)==null?void 0:h.current)==null||y.focus()},[e]);return m.useImperativeHandle(t,()=>({focusItem:f}),[f]),{resetActiveItemId:c,activeItemId:i,forceUpdateActiveItemId:f,handleListKeyDownFactory:g}}export{qu as C,Mu as F,L as I,Ne as L,We as N,wu as O,He as S,b4 as a,Oe as b,tu as c,uu as d,et as e,Re as f,v4 as g,g4 as h,ne as i,I4 as j,D4 as k,C4 as l,_4 as m,Ve as n,me as s,Xe as u};
