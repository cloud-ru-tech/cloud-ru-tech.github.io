import{j as l}from"./jsx-runtime-BTJTZTIL.js";import{m as _u}from"./index-B7wZyJkK.js";import{r as t}from"./index-CJ_LmFaV.js";import{S as hu}from"./constants-9uwKbtvo.js";import{F as xu,g as Iu,V as wu}from"./FieldDecorator-Dre8Icai.js";import{u as Hu}from"./index-JZGyZbA2.js";import{D as bu}from"./DropList-DKKyGqzR.js";import{c as Nu}from"./index-DUmpqB7p.js";import{g as Tu}from"./getArrowIcon-Cs5vBdSw.js";import{D as W}from"./Divider-C1X9zrkx.js";import{u as Mu}from"./useValueControl-C51frgGe.js";import{u as Su}from"./useClearButton-CAlOraVE.js";import{u as Lu}from"./useCopyButton-BBm4LaWi.js";import{u as Ru,a as Pu}from"./usePrefix-CWfsp2Rm.js";import{u as ju}from"./useButtonNavigation-CVCsehRW.js";import{e as Ou}from"./componentPropsProcessors-UJEZy8aQ.js";import{F as ku}from"./FieldContainerPrivate-CWEZnWPH.js";import{I as zu}from"./InputPrivate-Dc5_2Dwu.js";const Ku="_buttonField_14uo1_1",Ju="_divider_14uo1_89",Xu="_content_14uo1_94",A={buttonField:Ku,divider:Ju,content:Xu},D=t.forwardRef(({size:e,tabIndex:u=0,onClick:o,onKeyDown:p,onFocus:r,onBlur:n,disabled:a,content:c,hasArrow:i=!1,arrowOpen:s=!1,variant:d,className:y},v)=>{const{ArrowIcon:E,arrowIconSize:B}=Tu({open:s,size:"m"});return l.jsxs("button",{className:Nu(y,A.buttonField),"data-size":e,"data-variant":d,"data-arrow-open":s||void 0,"data-disabled":a||void 0,onClick:a?void 0:o,onKeyDown:a?void 0:p,onFocus:a?void 0:r,onBlur:a?void 0:n,"data-test-id":"button-field",ref:v,tabIndex:u,type:"button",disabled:a,children:[d==="after"&&l.jsx(W,{orientation:"vertical",className:A.divider}),l.jsx("div",{className:A.content,children:c}),i&&l.jsx(E,{size:B}),d==="before"&&l.jsx(W,{orientation:"vertical",className:A.divider})]})});try{D.displayName="ButtonField",D.__docgenInfo={description:"",displayName:"ButtonField",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLButtonElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},hasArrow:{defaultValue:{value:"false"},description:"",name:"hasArrow",required:!1,type:{name:"boolean"}},arrowOpen:{defaultValue:{value:"false"},description:"",name:"arrowOpen",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function H({variant:e}){if(e==="before")return"bottom-start";if(e==="after")return"bottom-end"}try{H.displayName="getPlacement",H.__docgenInfo={description:"",displayName:"getPlacement",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}}}}}catch{}const $u="_triggerClassName_gujln_1",Uu={triggerClassName:$u},b=t.forwardRef(({items:e,selection:u,open:o,onOpenChange:p,search:r,scroll:n,...a},c)=>{const[i,s]=Hu(o,!1,p),d=H(a);return l.jsx(bu,{"data-test-id":"button-field-list",items:e,selection:{mode:"single",...u},open:i,onOpenChange:s,closeDroplistOnItemClick:!0,search:r,scroll:n,triggerElemRef:c,size:a.size,placement:d,children:l.jsx(D,{...a,hasArrow:!0,arrowOpen:i,className:Uu.triggerClassName})})});try{b.displayName="ButtonFieldList",b.__docgenInfo={description:"",displayName:"ButtonFieldList",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"ReactNode"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLButtonElement>"}},search:{defaultValue:null,description:"Настройки поисковой строки",name:"search",required:!1,type:{name:"SearchState"}},open:{defaultValue:null,description:"Управляет состоянием показан/не показан.",name:"open",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Колбек отображения компонента. Срабатывает при изменении состояния open.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}},items:{defaultValue:null,description:"Основные элементы списка",name:"items",required:!0,type:{name:"Item[]"}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:'Omit<SelectionSingleState, "mode">'}}}}}catch{}function _({variant:e,button:u,icon:o,size:p,disabled:r,readonly:n,type:a,onFocus:c,onBlur:i}){const s=t.useRef(null),d=t.useMemo(()=>({id:`${a}Icon`,active:!1,show:!!(o&&!u),render:()=>l.jsx(l.Fragment,{children:o})}),[u,o,a]),y=t.useMemo(()=>({id:`${a}Button`,active:!1,show:!!(u&&u.variant===e),render:v=>{const E={...v,variant:e,size:p,content:u==null?void 0:u.content,disabled:r||n,onFocus:c,onBlur:i};if(u!=null&&u.items)return l.jsx(b,{...E,ref:s,onClick:()=>{setTimeout(()=>{var g;return(g=s.current)==null?void 0:g.focus()},0)},search:u.search,items:u.items,selection:u.selection,open:u.open,scroll:u.scroll,onOpenChange:u.onOpenChange});const B=l.jsx(D,{...E,hasArrow:u==null?void 0:u.hasArrow,arrowOpen:u==null?void 0:u.arrowOpen});return u!=null&&u.wrapper?u.wrapper(B):B}}),[a,u,e,p,r,n,c,i]);return u?y:d}try{_.displayName="useAddonButton",_.__docgenInfo={description:"",displayName:"useAddonButton",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"prefix"'},{value:'"postfix"'}]}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}}}}}catch{}function N({postfixIcon:e,...u}){return _({...u,icon:e,type:"postfix",variant:"after"})}try{N.displayName="usePostfixButton",N.__docgenInfo={description:"",displayName:"usePostfixButton",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},postfixIcon:{defaultValue:null,description:"",name:"postfixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}function T({prefixIcon:e,...u}){return _({...u,icon:e,type:"prefix",variant:"before"})}try{T.displayName="usePrefixButton",T.__docgenInfo={description:"",displayName:"usePrefixButton",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"",name:"prefixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}function M({button:e}){return(e==null?void 0:e.variant)==="before"?"single-line-container-button-before":(e==null?void 0:e.variant)==="after"?"single-line-container-button-after":"single-line-container"}try{M.displayName="getContainerVariant",M.__docgenInfo={description:"",displayName:"getContainerVariant",props:{button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"Button"}}}}}catch{}const Y=t.forwardRef(({id:e,name:u,value:o,placeholder:p,maxLength:r,disabled:n=!1,readonly:a=!1,showCopyButton:c=!0,showClearButton:i=!0,allowMoreThanMaxLength:s=!1,onChange:d,onFocus:y,onBlur:v,onCopyButtonClick:E,className:B,label:g,labelTooltip:uu,labelTooltipPlacement:eu,required:S=!1,caption:au,hint:nu,showHintIcon:tu,size:m=hu.S,validationState:lu=wu.Default,error:L,autoComplete:ru,autoFocus:ou,prefixIcon:iu,prefix:h,postfix:x,button:F,onPaste:su,onKeyDown:I,type:du="text",inputMode:pu,spellCheck:cu,...mu},fu)=>{const[q="",R]=Mu({value:o,defaultValue:"",onChange:d}),V=t.useRef(null),Eu=t.useRef(null),Bu=t.useRef(null),P=!!(q&&!n),yu=i&&P&&!a,vu=c&&P&&a,j=Iu({validationState:lu,error:L}),w=t.useMemo(()=>F?{...F,selection:{...F.selection,onChange:f=>{var C,G;(G=(C=F.selection)==null?void 0:C.onChange)==null||G.call(C,f),setTimeout(()=>{var Q;return(Q=V.current)==null?void 0:Q.focus()},0)}}}:void 0,[F]),Fu=M({button:w}),O=Su({clearButtonRef:Eu,showClearButton:yu,size:m,onClear:()=>{var f;R(""),S&&((f=V.current)==null||f.focus())}}),k=Lu({copyButtonRef:Bu,showCopyButton:vu,size:m,valueToCopy:q,prefix:typeof h=="string"?h:void 0,postfix:typeof x=="string"?x:void 0,onCopyButtonClick:E}),[Vu,z]=t.useState(!1),K=t.useCallback(()=>z(!0),[]),J=t.useCallback(()=>z(!1),[]),X=Ru({prefix:h,disabled:n}),$=T({button:w,prefixIcon:iu,size:m,disabled:n,readonly:a,onFocus:K,onBlur:J}),U=Pu({postfix:x,disabled:n}),Z=N({button:w,size:m,disabled:n,readonly:a,onFocus:K,onBlur:J}),{postfixButtons:gu,prefixButtons:qu,inputTabIndex:Cu,onInputKeyDown:Au}=ju({inputRef:V,postfixButtons:t.useMemo(()=>[O,k,U,Z],[O,k,U,Z]),prefixButtons:t.useMemo(()=>[$,X],[$,X]),readonly:a,submitKeys:["Enter","Space","Tab"]}),Du=f=>{Au(f),I==null||I(f)};return l.jsx(xu,{className:B,label:g,labelTooltip:uu,labelTooltipPlacement:eu,labelFor:e,required:S,caption:au,length:r?{max:r,current:q.length}:void 0,hint:nu,disabled:n,readonly:a,showHintIcon:tu,size:m,validationState:j,error:L,...Ou(mu),children:l.jsx(ku,{size:m,validationState:j,disabled:n,readonly:a,variant:Fu,inputRef:V,prefix:qu,postfix:gu,disableFocus:Vu,children:l.jsx(zu,{ref:_u(fu,V),"data-size":m,value:q,onChange:R,onFocus:y,onBlur:v,tabIndex:Cu,onKeyDown:Du,onPaste:su,placeholder:p,disabled:n,readonly:a,type:du,inputMode:pu,maxLength:s?void 0:r||void 0,id:e,name:u,autoComplete:ru,autoFocus:ou,spellCheck:cu,"data-test-id":"field-text__input"})})})});try{Y.displayName="FieldText",Y.__docgenInfo={description:"",displayName:"FieldText",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},showCopyButton:{defaultValue:null,description:"Отображение кнопки Копировать для поля (актуально только для `readonly = true`)",name:"showCopyButton",required:!1,type:{name:"boolean"}},onCopyButtonClick:{defaultValue:null,description:"Колбек клика по кнопке Копировать для поля",name:"onCopyButtonClick",required:!1,type:{name:"(() => void)"}},showClearButton:{defaultValue:{value:"true"},description:"Отображение кнопки очистки поля",name:"showClearButton",required:!1,type:{name:"boolean"}},allowMoreThanMaxLength:{defaultValue:{value:"false"},description:"Можно ли вводить больше разрешённого кол-ва символов",name:"allowMoreThanMaxLength",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"Иконка-префикс для поля",name:"prefixIcon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},prefix:{defaultValue:null,description:"Произвольный префикс для поля",name:"prefix",required:!1,type:{name:"ReactNode"}},postfix:{defaultValue:null,description:"Произвольный постфикс для поля",name:"postfix",required:!1,type:{name:"ReactNode"}},button:{defaultValue:null,description:"Кнопка действия внутри поля",name:"button",required:!1,type:{name:"Button"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"tel"'},{value:'"email"'}]}},onChange:{defaultValue:null,description:"Колбек смены значения",name:"onChange",required:!1,type:{name:"((value: string, e?: ChangeEvent<HTMLInputElement>) => void)"}},value:{defaultValue:null,description:"Значение input",name:"value",required:!1,type:{name:"string"}},inputMode:{defaultValue:null,description:"Режим работы экранной клавиатуры",name:"inputMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"text"'},{value:'"search"'},{value:'"tel"'},{value:'"email"'},{value:'"decimal"'},{value:'"numeric"'},{value:'"url"'}]}},id:{defaultValue:null,description:"Значение html-атрибута id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Значение html-атрибута name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Является ли поле деактивированным",name:"disabled",required:!1,type:{name:"boolean"}},pattern:{defaultValue:null,description:"Регулярное выражение валидного инпута",name:"pattern",required:!1,type:{name:"string"}},autoFocus:{defaultValue:{value:"false"},description:"Включен ли авто-фокус для поля",name:"autoFocus",required:!1,type:{name:"boolean"}},spellCheck:{defaultValue:{value:"true"},description:"Значение атрибута spellcheck (проверка орфографии)",name:"spellCheck",required:!1,type:{name:"boolean"}},onPaste:{defaultValue:null,description:"Колбек обработки вставки значения",name:"onPaste",required:!1,type:{name:"ClipboardEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки получения фокуса",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Колбек обработки потери фокуса",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onKeyDown:{defaultValue:null,description:"Колбек обработки начала нажатия клавиши клавиатуры",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},readonly:{defaultValue:{value:"false"},description:"Является ли поле доступным только для чтения",name:"readonly",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"Значение плейсхолдера",name:"placeholder",required:!1,type:{name:"string"}},maxLength:{defaultValue:null,description:"Максимальная длина вводимого значения",name:"maxLength",required:!1,type:{name:"number"}},autoComplete:{defaultValue:{value:"false"},description:"Включен ли автокомплит для поля",name:"autoComplete",required:!1,type:{name:"string | boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},caption:{defaultValue:null,description:"Подпись справа от лейбла",name:"caption",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл",name:"label",required:!1,type:{name:"string"}},labelTooltip:{defaultValue:null,description:"Всплывающая подсказка лейбла",name:"labelTooltip",required:!1,type:{name:"ReactNode"}},required:{defaultValue:{value:"false"},description:"Является ли поле обязательным",name:"required",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Подсказка внизу",name:"hint",required:!1,type:{name:"string"}},showHintIcon:{defaultValue:null,description:"Отображать иконку подсказки",name:"showHintIcon",required:!1,type:{name:"boolean"}},validationState:{defaultValue:{value:"default"},description:"Состояние валидации",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"warning"'},{value:'"success"'},{value:'"default"'}]}},labelTooltipPlacement:{defaultValue:{value:"top"},description:"Расположение подсказки лейбла",name:"labelTooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}}}}}catch{}export{Y as F};
