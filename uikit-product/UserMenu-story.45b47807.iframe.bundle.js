"use strict";(()=>{(self.webpackChunkuikit_product=self.webpackChunkuikit_product||[]).push([[39],{"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.3_webpack@5.99.9_esbuild@0.25.12_/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./packages/header/src/components/UserMenu/styles.module.scss":((P,g,e)=>{e.d(g,{A:()=>d});var t=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),h=e.n(t),j=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/runtime/api.js"),I=e.n(j),l=I()(h());l.push([P.id,".userMenuDroplist--mca3c{width:272px}.mobileList--Q50JT{padding:16px;padding-top:0}.settingIcon--Yx5Yf{color:var(--sys-neutral-text-light, #8b8e9b)}.userMenuInfoItem--H5Gdw [data-test-id=list__base-item-option]{font-family:var(--sans-label-m-font-family, SB Sans Interface);font-weight:var(--sans-label-m-font-weight, Semibold);line-height:var(--sans-label-m-line-height, 16px);font-size:var(--sans-label-m-font-size, 12px);letter-spacing:var(--sans-label-m-letter-spacing, 0px);paragraph-spacing:var(--sans-label-m-paragraph-spacing, 6.6px)}",""]),l.locals={userMenuDroplist:"userMenuDroplist--mca3c",mobileList:"mobileList--Q50JT",settingIcon:"settingIcon--Yx5Yf",userMenuInfoItem:"userMenuInfoItem--H5Gdw"};const d=l}),"./packages/header/stories/UserMenu.story.tsx":((P,g,e)=>{e.r(g),e.d(g,{default:()=>ce,userMenu:()=>fe});var t=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),h=e("./node_modules/.pnpm/@snack-uikit+toaster@0.11.18_@snack-uikit+locale@0.15.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@snack-uikit/toaster/dist/esm/helpers.js"),j=e("./storybook/constants.ts"),I=e("./packages/header/CHANGELOG.md"),l=e("./packages/header/package.json"),d=e("./packages/header/README.md"),r=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),E=e("./packages/locale/src/components/Locale.tsx"),S=e("./packages/mobile-drawer/src/components/MobileDrawerCustom/MobileDrawerCustom.tsx"),D=e("./node_modules/.pnpm/@snack-uikit+avatar@0.8.14_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@snack-uikit/avatar/dist/esm/components/Avatar.js"),K=e("./node_modules/.pnpm/@snack-uikit+button@0.19.16_react@18.2.0/node_modules/@snack-uikit/button/dist/esm/components/ButtonFunction/ButtonFunction.js"),U=e("./node_modules/.pnpm/@snack-uikit+list@0.32.2_@snack-uikit+locale@0.15.5_@types+react@18.2.79_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@snack-uikit/list/dist/esm/components/Lists/List/List.js"),Y=e("./node_modules/.pnpm/@snack-uikit+list@0.32.2_@snack-uikit+locale@0.15.5_@types+react@18.2.79_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@snack-uikit/list/dist/esm/components/Lists/Droplist/DropList.js"),W=e("./node_modules/.pnpm/@snack-uikit+scroll@0.10.5_react@18.2.0/node_modules/@snack-uikit/scroll/dist/esm/components/Scroll.js"),z=e("./node_modules/.pnpm/@snack-uikit+utils@4.0.0_react@18.2.0/node_modules/@snack-uikit/utils/dist/esm/hooks/useValueControl.js"),F=e("./node_modules/.pnpm/@snack-uikit+list@0.32.2_@snack-uikit+locale@0.15.5_@types+react@18.2.79_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@snack-uikit/list/dist/esm/components/Items/utils.js"),G=e("./packages/icons/src/components/interface-icons-product/Exit.tsx");function A({onLogout:s}){const{t:o}=(0,E.F)("Header");return(0,r.useMemo)(()=>[{type:"group",divider:!0,items:[]},{content:{option:o("logout")},beforeContent:(0,t.jsx)(G.A,{}),onClick:s,"data-test-id":"header__user-menu__logout"}],[s,o])}try{A.displayName="useLogoutItem",A.__docgenInfo={description:"",displayName:"useLogoutItem",props:{onLogout:{defaultValue:null,description:"",name:"onLogout",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/header/src/components/UserMenu/hooks/useLogoutItem.tsx#useLogoutItem"]={docgenInfo:A.__docgenInfo,name:"useLogoutItem",path:"packages/header/src/components/UserMenu/hooks/useLogoutItem.tsx#useLogoutItem"})}catch(s){}var X=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/settings/index.js"),w=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),J=e.n(w),Q=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/styleDomAPI.js"),$=e.n(Q),Z=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/insertBySelector.js"),q=e.n(Z),ee=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),te=e.n(ee),se=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/insertStyleElement.js"),ne=e.n(se),oe=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/styleTagTransform.js"),ae=e.n(oe),O=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.3_webpack@5.99.9_esbuild@0.25.12_/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./packages/header/src/components/UserMenu/styles.module.scss"),v={};v.styleTagTransform=ae(),v.setAttributes=te(),v.insert=q().bind(null,"head"),v.domAPI=$(),v.insertStyleElement=ne();var he=J()(O.A,v);const T=O.A&&O.A.locals?O.A.locals:void 0;function b({fullName:s="",email:o="",itemWrapRender:m,onClick:u}){return(0,r.useMemo)(()=>({content:{option:s,description:o,truncate:{description:1}},onClick:u,beforeContent:(0,t.jsx)(D.e,{size:"xs",name:s,showTwoSymbols:!0}),afterContent:(0,t.jsx)("div",{className:T.settingIcon,children:(0,t.jsx)(X.A,{})}),itemWrapRender:m,id:"header__user-menu__button","data-test-id":"header__user-menu__manage-profile",className:T.userMenuInfoItem}),[o,s,m,u])}try{b.displayName="useProfileItem",b.__docgenInfo={description:"",displayName:"useProfileItem",props:{fullName:{defaultValue:{value:""},description:"",name:"fullName",required:!1,type:{name:"string"}},email:{defaultValue:{value:""},description:"",name:"email",required:!1,type:{name:"string"}},inviteCount:{defaultValue:null,description:"",name:"inviteCount",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((node: ReactNode) => ReactNode)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/header/src/components/UserMenu/hooks/useProfileItem.tsx#useProfileItem"]={docgenInfo:b.__docgenInfo,name:"useProfileItem",path:"packages/header/src/components/UserMenu/hooks/useProfileItem.tsx#useProfileItem"})}catch(s){}var le=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/day/index.js"),ie=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/night/index.js"),de=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/laptopPhone/index.js"),B=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/themeContrast/index.js"),re=e("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/chevronRight/index.js"),V=e("./packages/mobile-modal/src/components/MobileModalCustom/MobileModalCustom.tsx");const y={Light:"light",Dark:"dark",System:"system"};function L({value:s,onChange:o,isMobile:m,onClose:u}){const{t:a}=(0,E.F)("Header"),[p,_]=(0,r.useState)(!1),c=(0,r.useCallback)(n=>()=>{o==null||o(n),!m&&(u==null||u())},[m,o,u]),i=(0,r.useMemo)(()=>[{beforeContent:(0,t.jsx)(le.A,{}),content:{option:a("themeModeLight")},onClick:c(y.Light),checked:s===y.Light,"data-test-id":"header__user-menu__theme-mode__light-option"},{beforeContent:(0,t.jsx)(ie.A,{}),content:{option:a("themeModeDark")},checked:s===y.Dark,onClick:c(y.Dark),"data-test-id":"header__user-menu__theme-mode__dark-option"},{beforeContent:(0,t.jsx)(de.A,{}),content:{option:a("themeModeSystem")},checked:s===y.System,onClick:c(y.System),"data-test-id":"header__user-menu__theme-mode__system-option"}],[c,a,s]),k=(0,r.useMemo)(()=>({type:"next-list",content:{option:a("themeModeLabel")},placement:"left-start",beforeContent:(0,t.jsx)(B.A,{}),"data-test-id":"header__user-menu__theme-mode",items:i}),[a,i]),R=(0,r.useMemo)(()=>({id:"header__user-menu__theme-mode",beforeContent:(0,t.jsx)(B.A,{}),"data-test-id":"header__user-menu__theme-mode",afterContent:(0,t.jsx)("span",{style:{color:"var(--sys-neutral-text-light)"},children:(0,t.jsx)(re.A,{})}),content:{option:a("themeModeLabel")},onClick:()=>{_(!0)},itemWrapRender:n=>(0,t.jsxs)(t.Fragment,{children:[n,(0,t.jsxs)(V.p,{open:p,onClose:()=>{_(!1)},closeButtonEnabled:!0,closeOnPopstate:!0,children:[(0,t.jsx)(V.p.Header,{title:a("themeModeLabel")}),(0,t.jsx)(U.B,{items:i,size:"l",selection:{mode:"single",value:s}})]})]})}),[p,a,s,i]);return m?R:k}try{L.displayName="useThemeItem",L.__docgenInfo={description:"",displayName:"useThemeItem",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'},{value:'"system"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((themeMode: ThemeMode) => void)"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/header/src/components/UserMenu/hooks/useThemeItem.tsx#useThemeItem"]={docgenInfo:L.__docgenInfo,name:"useThemeItem",path:"packages/header/src/components/UserMenu/hooks/useThemeItem.tsx#useThemeItem"})}catch(s){}const N={type:"group",divider:!0,items:[]};function ue({profile:s,theme:o,onLogout:m,items:u=[],isMobile:a,onClose:p,settingItems:_=[]}){const c=b(s),i=L({...o||{},isMobile:a,onClose:p}),k=A({onLogout:m});return(0,r.useMemo)(()=>{let n=[c];return i&&(n=n.concat([N,i])),n=n.concat(u),n=n.concat(k),a&&(_!=null&&_.length)&&(n=n.concat([N,..._])),n.map(f=>(0,F.Xy)(f)&&f.id!=="header__user-menu__theme-mode"?{...f,onClick:x=>{var C;(C=f.onClick)==null||C.call(f,x),x.metaKey||p==null||p()}}:f)},[a,u,k,p,c,_,i])}function M({profile:s={},open:o,setOpen:m,onLogout:u,items:a,settingItems:p,theme:_,isMobile:c,onClick:i}){const{t:k}=(0,E.F)("Header"),[R=!1,n]=(0,z.I)({value:o,onChange:m}),{fullName:f="",inviteCount:x}=s,C=ue({isMobile:c,profile:s,theme:_,items:a,settingItems:p,onClose:()=>{n(!1)},onLogout:u}),H=(0,r.useMemo)(()=>(0,t.jsx)(K.b,{size:"m",onClick:()=>{n==null||n(!0),i==null||i()},counter:Number(x)?{value:Number(x),appearance:"primary"}:void 0,"data-test-id":"header__user-menu__button",icon:(0,t.jsx)(D.e,{size:"xs",name:f,showTwoSymbols:!0})}),[f,x,i,n]);return c?(0,t.jsxs)(t.Fragment,{children:[H,(0,t.jsxs)(S.R,{open:R,onClose:()=>{n(!1)},position:"right",swipeEnabled:!1,"data-test-id":"header__user-menu-mobile",closeOnPopstate:!0,children:[(0,t.jsx)(S.R.Header,{title:k("user")}),(0,t.jsx)(W.O,{barHideStrategy:"never",children:(0,t.jsx)("div",{className:T.mobileList,children:(0,t.jsx)(U.B,{items:C,selection:{mode:"single",value:"null"},size:"m"})})})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(Y.i,{items:C,selection:{mode:"single",value:"null"},trigger:"click",placement:"bottom-end",className:T.userMenuDroplist,closeOnPopstate:!0,closeDroplistOnItemClick:!0,"data-test-id":"header__user-menu",children:H})})}try{M.displayName="UserMenu",M.__docgenInfo={description:"",displayName:"UserMenu",props:{profile:{defaultValue:{value:"{}"},description:"",name:"profile",required:!1,type:{name:"UserProfileProps"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeProps"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Item[]"}},settingItems:{defaultValue:null,description:"",name:"settingItems",required:!1,type:{name:"BaseItem[]"}},onLogout:{defaultValue:null,description:"",name:"onLogout",required:!1,type:{name:"(() => void)"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!1,type:{name:"((open: boolean) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/header/src/components/UserMenu/UserMenu.tsx#UserMenu"]={docgenInfo:M.__docgenInfo,name:"UserMenu",path:"packages/header/src/components/UserMenu/UserMenu.tsx#UserMenu"})}catch(s){}var me=e("./packages/header/stories/constants.tsx"),ce={title:"Console/Header/User Menu",component:M};function pe({...s}){return(0,t.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:40,resize:"horizontal",overflow:"hidden"},children:(0,t.jsx)(M,{...s})})}function _e(s){return s.map(o=>({content:{option:o}}))}const fe={render:pe,args:{isMobile:!1,profile:{fullName:"Ivan Petrov",email:"ipetrov@cloud.ru",inviteCount:1},theme:{value:"light",onChange:s=>h.XM.userAction.neutral({label:`theme onChange ${s}`})},onClick:()=>h.XM.userAction.neutral({label:"onClick"}),onLogout:()=>h.XM.userAction.neutral({label:"onLogout click"}),settingItems:me.U,items:_e(["Option 1","Option 2"])},argTypes:{},parameters:{readme:{sidebar:[`Latest version: ${l.rE}`,d,I]},packageName:l.UU,badges:[j.yq.BETA],design:{name:"Figma",type:"figma",url:"https://www.figma.com/design/SZjPEs7Ac3a2wS0HapamrE/Product-UI-Kit?node-id=32725-978435&m=dev"}}}}),"./packages/icons/src/components/interface-icons-product/Exit.tsx":((P,g,e)=>{e.d(g,{A:()=>I});var t=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),h=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),I=h.forwardRef(({size:l=24,...d},r)=>{d.width=void 0,d.height=void 0;const E="icon-exit",S={};return typeof l=="number"&&(S.width=l+"px",S.height=l+"px",d.style||(d.style={}),d.style.width=l+"px",d.style.height=l+"px"),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24","data-test-id":E,ref:r,...d,children:(0,t.jsx)("path",{d:"M4.24 12v8.76H13v-1.52H5.76V4.76H13V3.24H4.24zm11-2.79v2.03H9v1.52h6.24v4.06l2.41-2.41L20.06 12l-2.41-2.41-2.41-2.41z"})})});try{Exit.displayName="Exit",Exit.__docgenInfo={description:"",displayName:"Exit",props:{size:{defaultValue:{value:"24"},description:"",name:"size",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/icons/src/components/interface-icons-product/Exit.tsx#Exit"]={docgenInfo:Exit.__docgenInfo,name:"Exit",path:"packages/icons/src/components/interface-icons-product/Exit.tsx#Exit"})}catch(l){}})}]);})();
