"use strict";(()=>{(self.webpackChunkuikit_product=self.webpackChunkuikit_product||[]).push([[7717],{"./packages/fields-predefined/src/hooks/useCustomFieldValidation.ts":((M,A,u)=>{u.d(A,{m:()=>g});var e=u("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),v=u("./node_modules/.pnpm/yup@1.7.1/node_modules/yup/index.esm.js");const g=({schema:c})=>{const h=(0,e.useCallback)(m=>{try{return c.validateSync(m),{error:null}}catch(d){return d instanceof v.yI?{error:d}:{error:null}}},[c]),C=(0,e.useCallback)(m=>{try{return c.validateSync(m),!0}catch(d){return d instanceof v.yI?d.message:void 0}},[c]);return{validate:h,validateRHF:C}}}),"./packages/fields-predefined/stories/FieldDescription.story.tsx":((M,A,u)=>{u.r(A),u.d(A,{default:()=>K,fieldDescription:()=>w});var e=u("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),v=u("storybook/internal/preview-api"),g=u("./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"),c=u.n(g),h=u("./packages/fields-predefined/CHANGELOG.md"),C=u("./packages/fields-predefined/package.json"),m=u("./packages/fields-predefined/README.md"),d=u("./node_modules/.pnpm/merge-refs@1.2.2_@types+react@18.2.79/node_modules/merge-refs/dist/esm/index.js"),s=u("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),q=u("./node_modules/.pnpm/yup@1.7.1/node_modules/yup/index.esm.js"),x=u("./packages/locale/src/components/Locale.tsx"),H=u("./packages/mobile-fields/src/components/AdaptiveField/AdaptiveField.tsx"),I=u("./packages/fields-predefined/src/hooks/useCustomFieldValidation.ts"),N=u("./node_modules/.pnpm/@snack-uikit+icons@0.27.4/node_modules/@snack-uikit/icons/dist/esm/components/interface-icons/plus/index.js"),P=u("./node_modules/.pnpm/@snack-uikit+button@0.19.16_react@18.2.0/node_modules/@snack-uikit/button/dist/esm/components/ButtonFunction/ButtonFunction.js");function y({children:t,size:l,autoFocusRef:a}){const{t:i}=(0,x.F)("FieldsPredefined"),[o,E]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o&&a.current&&a.current.focus()},[o,a]),o?t:(0,e.jsx)("div",{children:!o&&(0,e.jsx)(P.b,{icon:(0,e.jsx)(N.A,{}),iconPosition:"before",label:i("FieldDescription.addButton"),onClick:()=>E(!0),size:l})})}try{y.displayName="FieldWithAddButton",y.__docgenInfo={description:"",displayName:"FieldWithAddButton",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},autoFocusRef:{defaultValue:null,description:"",name:"autoFocusRef",required:!0,type:{name:"RefObject<HTMLTextAreaElement | null>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/fields-predefined/src/components/FieldDescription/components/FieldWithAddButton.tsx#FieldWithAddButton"]={docgenInfo:y.__docgenInfo,name:"FieldWithAddButton",path:"packages/fields-predefined/src/components/FieldDescription/components/FieldWithAddButton.tsx#FieldWithAddButton"})}catch(t){}const W=255,p=(0,s.forwardRef)(({size:t="m",required:l=!1,maxLength:a=W,customSchema:i,resizable:o=!0,addButton:E,onValidationError:D,...r},z)=>{var T;const{t:f}=(0,x.F)("FieldsPredefined"),V=(0,s.useRef)(null),G=(0,s.useMemo)(()=>{let n=(0,q.Yj)().trim().max(a,f("FieldDescription.maxSymbols",{max:a}));return i&&(n=n.concat(i)),l?n.required(f("FieldDescription.required")):n},[i,a,l,f]),{validate:b}=(0,I.m)({schema:G}),[R,Y]=(0,s.useState)(""),[k,j]=(0,s.useState)(null),X=n=>{var F;Y(n),(F=r.onChange)==null||F.call(r,n);const B=b(n);j(B.error),D==null||D(B.error)},Z=n=>{var F;(F=r.onBlur)==null||F.call(r,n);const B=b(R);j(B.error),D==null||D(B.error)},O=(T=r.error)!=null?T:k==null?void 0:k.message,L=(0,e.jsx)(H.T2,{...r,resizable:o,label:f("FieldDescription.label"),inputMode:"text",ref:(0,d.A)(z,V),size:t,maxLength:a,value:R,onChange:X,onBlur:Z,validationState:O?"error":r.validationState,hint:O,caption:l?void 0:f("FieldDescription.optional")});return E&&!l?(0,e.jsx)(y,{autoFocusRef:V,size:t,children:L}):L});try{p.displayName="FieldDescription",p.__docgenInfo={description:"\u041F\u043E\u043B\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 c \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u044B\u043C \u0441\u0442\u0435\u0439\u0442\u043E\u043C \u0438 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0435\u0439",displayName:"FieldDescription",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"\u042F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043B\u0438 \u043F\u043E\u043B\u0435 \u0434\u0435\u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u043C",name:"disabled",required:!1,type:{name:"boolean"}},"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},size:{defaultValue:{value:"m"},description:"\u0420\u0430\u0437\u043C\u0435\u0440",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},value:{defaultValue:null,description:"HTML-\u0430\u0442\u0442\u0440\u0438\u0431\u0443\u0442 value",name:"value",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"HTML-\u0430\u0442\u0442\u0440\u0438\u0431\u0443\u0442 id",name:"id",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"255"},description:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B-\u0432\u043E \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",name:"maxLength",required:!1,type:{name:"number"}},readonly:{defaultValue:null,description:"\u042F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043B\u0438 \u043F\u043E\u043B\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u043C \u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430 \u0447\u0442\u0435\u043D\u0438\u0435",name:"readonly",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u0435\u043A \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0444\u043E\u043A\u0443\u0441\u0430",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLTextAreaElement>"}},onBlur:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u0435\u043A \u043F\u043E\u0442\u0435\u0440\u0438 \u0444\u043E\u043A\u0443\u0441\u0430",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLTextAreaElement>"}},onKeyDown:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u0435\u043A \u043D\u0430\u0436\u0430\u0442\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044B",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLTextAreaElement>"}},spellCheck:{defaultValue:{value:"true"},description:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0438 \u043E\u0440\u0444\u043E\u0433\u0440\u0430\u0444\u0438\u0438",name:"spellCheck",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D \u043B\u0438 \u0430\u0432\u0442\u043E-\u0444\u043E\u043A\u0443\u0441",name:"autoFocus",required:!1,type:{name:"boolean"}},labelTooltip:{defaultValue:null,description:"\u0412\u0441\u043F\u043B\u044B\u0432\u0430\u044E\u0449\u0430\u044F \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0430 \u043B\u0435\u0439\u0431\u043B\u0430",name:"labelTooltip",required:!1,type:{name:"ReactNode"}},required:{defaultValue:{value:"false"},description:"\u042F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043B\u0438 \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u043C",name:"required",required:!1,type:{name:"boolean"}},validationState:{defaultValue:null,description:"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0438",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"warning"'},{value:'"success"'}]}},showHintIcon:{defaultValue:null,description:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C \u0438\u043A\u043E\u043D\u043A\u0443 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438",name:"showHintIcon",required:!1,type:{name:"boolean"}},labelTooltipPlacement:{defaultValue:{value:"top"},description:"\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438 \u043B\u0435\u0439\u0431\u043B\u0430",name:"labelTooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u0435\u043A \u0441\u043C\u0435\u043D\u044B \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F",name:"onChange",required:!1,type:{name:"((value: string, e?: ChangeEvent<HTMLTextAreaElement>) => void)"}},minRows:{defaultValue:{value:"3"},description:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B-\u0432\u043E \u0441\u0442\u0440\u043E\u043A, \u0434\u043E \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u0440\u0430\u0437\u043C\u0435\u0440 \u043F\u043E\u043B\u044F \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D",name:"minRows",required:!1,type:{name:"number"}},maxRows:{defaultValue:{value:"1000"},description:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B-\u0432\u043E \u0441\u0442\u0440\u043E\u043A, \u0434\u043E \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u0440\u0430\u0437\u043C\u0435\u0440 \u043F\u043E\u043B\u044F \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D",name:"maxRows",required:!1,type:{name:"number"}},resizable:{defaultValue:{value:"true"},description:"\u041C\u043E\u0436\u0435\u0442 \u043B\u0438 \u043B\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0438\u0437\u043C\u0435\u043D\u044F\u0442\u044C \u0440\u0430\u0437\u043C\u0435\u0440\u044B \u043F\u043E\u043B\u044F (\u0435\u0441\u043B\u0438 \u0441\u0432-\u0432\u043E \u043D\u0435 \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u043E, \u043F\u043E\u043B\u0435 \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043C\u0435\u043D\u044F\u0435\u0442 \u0441\u0432\u043E\u0439 \u0440\u0430\u0437\u043C\u0435\u0440)",name:"resizable",required:!1,type:{name:"boolean"}},showCopyButton:{defaultValue:null,description:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0434\u043B\u044F \u043F\u043E\u043B\u044F (\u0430\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F `readonly = true`)",name:"showCopyButton",required:!1,type:{name:"boolean"}},onCopyButtonClick:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u0435\u043A \u043A\u043B\u0438\u043A\u0430 \u043F\u043E \u043A\u043D\u043E\u043F\u043A\u0435 \u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0434\u043B\u044F \u043F\u043E\u043B\u044F",name:"onCopyButtonClick",required:!1,type:{name:"(() => void)"}},showClearButton:{defaultValue:{value:"true"},description:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u043E\u0447\u0438\u0441\u0442\u043A\u0438 \u043F\u043E\u043B\u044F",name:"showClearButton",required:!1,type:{name:"boolean"}},allowMoreThanMaxLength:{defaultValue:null,description:"\u041C\u043E\u0436\u043D\u043E \u043B\u0438 \u0432\u0432\u043E\u0434\u0438\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0451\u043D\u043D\u043E\u0433\u043E \u043A\u043E\u043B-\u0432\u0430 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",name:"allowMoreThanMaxLength",required:!1,type:{name:"boolean"}},customSchema:{defaultValue:null,description:"",name:"customSchema",required:!1,type:{name:'StringSchema<string, AnyObject, undefined, "">'}},addButton:{defaultValue:null,description:'\u041F\u043E\u043B\u0435 \u043F\u043E\u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043F\u043E \u043A\u043D\u043E\u043F\u043A\u0435 "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435" (\u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u043E\u043F\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043E\u043B\u044F)',name:"addButton",required:!1,type:{name:"boolean"}},onValidationError:{defaultValue:null,description:"\u041A\u043E\u043B\u0431\u044D\u043A, \u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C\u044B\u0439 \u043F\u0440\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0438 \u043E\u0448\u0438\u0431\u043A\u0438 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0438 (\u0442\u043E\u043B\u044C\u043A\u043E \u0432 standalone \u0440\u0435\u0436\u0438\u043C\u0435)",name:"onValidationError",required:!1,type:{name:"((error: ValidationError | null) => void)"}},layoutType:{defaultValue:null,description:"",name:"layoutType",required:!0,type:{name:"enum",value:[{value:'"mobile"'},{value:'"tablet"'},{value:'"desktop"'},{value:'"desktopSmall"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/fields-predefined/src/components/FieldDescription/FieldDescription.tsx#FieldDescription"]={docgenInfo:p.__docgenInfo,name:"FieldDescription",path:"packages/fields-predefined/src/components/FieldDescription/FieldDescription.tsx#FieldDescription"})}catch(t){}var S=u("./packages/fields-predefined/stories/styles.module.scss"),K={title:"Console/Fields Predefined/Field Description",component:p};const U=t=>(0,e.jsx)("div",{className:c()(S.A.wrapper,S.A.fieldChatWrapper),children:(0,e.jsx)(p,{...t})}),w={render:function({...l}){const[a,i]=(0,v.useArgs)(),o=E=>{i({value:E})};return(0,e.jsx)(U,{...l,onChange:o,value:a.value})},args:{required:!1,size:"m",readonly:!1,validationState:"default",disabled:!1,addButton:!1},argTypes:{required:{name:"[Story]: Required",control:"boolean"},addButton:{name:"[Story]: With add Button",control:"boolean",if:{arg:"required",eq:!1}}},parameters:{readme:{sidebar:[`Latest version: ${C.rE}`,m,h]},packageName:C.UU,design:{name:"Figma",type:"figma",url:"https://www.figma.com/design/SZjPEs7Ac3a2wS0HapamrE/branch/N0k6b5UE2NAs86fGmfmFy1/Product-UI-Kit?node-id=31921-21498&p=f&t=xI1nhA5WNEETxx13-0"}}}})}]);})();
