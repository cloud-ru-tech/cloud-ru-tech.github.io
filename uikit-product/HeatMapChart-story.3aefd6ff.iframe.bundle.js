"use strict";(()=>{(self.webpackChunkuikit_product=self.webpackChunkuikit_product||[]).push([[8383],{"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.3_webpack@5.99.9_esbuild@0.25.12_/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./packages/charts/src/components/HeatMapChart/styles.module.scss":((R,v,e)=>{e.d(v,{A:()=>k});var n=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),L=e.n(n),x=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/runtime/api.js"),b=e.n(x),y=b()(L());y.push([R.id,".wrapper--iFaju{padding:24px;background-color:var(--sys-neutral-background1-level, #fdfdfd);border-radius:8px}.gridWrapper--Up_pN{position:relative;display:block}.gridWrapper--Up_pN[data-grid]{display:grid;grid-auto-rows:minmax(min-content, max-content);grid-template-columns:auto 1fr}.title--Z2AWp{font-family:var(--sans-title-m-font-family, SB Sans Interface);font-weight:var(--sans-title-m-font-weight, Semibold);line-height:var(--sans-title-m-line-height, 24px);font-size:var(--sans-title-m-font-size, 16px);letter-spacing:var(--sans-title-m-letter-spacing, 0.15px);paragraph-spacing:var(--sans-title-m-paragraph-spacing, 8.8px);margin-bottom:24px;font-size:20px;font-weight:bold;color:var(--sys-neutral-text-main, #41424e);height:50px}.legend--R4768{margin-top:24px;height:70px}.gradient--LDLDS{height:20px;margin:24px 0 8px;background:var(--gradient);background-color:var(--sys-red-accent-default, #cb3f3e) !important;border-radius:4px}.legendTicksWrapper--d7WnV{display:flex;justify-content:space-between}.tick--XNKgO{font-family:var(--sans-body-m-font-family, SB Sans Interface);font-weight:var(--sans-body-m-font-weight, Regular);line-height:var(--sans-body-m-line-height, 20px);font-size:var(--sans-body-m-font-size, 14px);letter-spacing:var(--sans-body-m-letter-spacing, 0.1px);paragraph-spacing:var(--sans-body-m-paragraph-spacing, 7.7px);color:var(--sys-neutral-text-support, #6d707f);font-size:12px}.cell--DTVmF{font-family:var(--sans-body-s-font-family, SB Sans Interface);font-weight:var(--sans-body-s-font-weight, Regular);line-height:var(--sans-body-s-line-height, 16px);font-size:var(--sans-body-s-font-size, 12px);letter-spacing:var(--sans-body-s-letter-spacing, 0.1px);paragraph-spacing:var(--sans-body-s-paragraph-spacing, 6.6px);color:var(--color);text-overflow:ellipsis;overflow:hidden}.xAxisLabel--G38CC{display:flex;justify-content:center;margin-top:8px;color:var(--sys-neutral-text-support, #6d707f);font-size:12px;font-weight:600;height:24px;margin-left:6px}.yAxisLabel--EaSV3{margin-right:16px;transform:rotate(180deg);transform-origin:right,top;writing-mode:vertical-rl;text-align:center;font-size:12px;font-weight:600;color:var(--sys-neutral-text-support, #6d707f)}.yAxisLabel--EaSV3[data-x-axis-position=top]{margin-top:34px}.yAxisLabel--EaSV3[data-x-axis-position=bottom]{margin-bottom:34px}",""]),y.locals={wrapper:"wrapper--iFaju",gridWrapper:"gridWrapper--Up_pN",title:"title--Z2AWp",legend:"legend--R4768",gradient:"gradient--LDLDS",legendTicksWrapper:"legendTicksWrapper--d7WnV",tick:"tick--XNKgO",cell:"cell--DTVmF",xAxisLabel:"xAxisLabel--G38CC",yAxisLabel:"yAxisLabel--EaSV3"};const k=y}),"./packages/charts/stories/HeatMapChart.story.tsx":((R,v,e)=>{e.r(v),e.d(v,{default:()=>be,heatMapChart:()=>Ce});var n=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),L=e("./storybook/constants.ts"),x=e("./packages/charts/CHANGELOG.md"),b=e("./packages/charts/package.json"),y=e("./packages/charts/README.md"),k=e("./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"),N=e.n(k),W=e("./node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/linear.js"),i=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),G=e("./node_modules/.pnpm/react-grid-heatmap@1.2.0_react@18.2.0/node_modules/react-grid-heatmap/dist/index.modern.js"),S=e("./packages/utils/src/hooks/useTheme.ts"),U=e("./packages/utils/src/utils/extractSupportProps.ts"),D=e("./node_modules/.pnpm/@snack-uikit+divider@3.2.3_react@18.2.0/node_modules/@snack-uikit/divider/dist/esm/components/Divider.js"),_=e("./node_modules/.pnpm/@snack-uikit+figma-tokens@19.0.2/node_modules/@snack-uikit/figma-tokens/build/ts/styles-theme-variables.js"),Z=e("./node_modules/.pnpm/@snack-uikit+utils@3.7.0_react@18.2.0/node_modules/@snack-uikit/utils/dist/esm/hooks/useIsomorphicLayoutEffect.js"),h=(t=>(t.Top="top",t.Bottom="bottom",t))(h||{});function H(t,o){return getComputedStyle(t).getPropertyValue(o)}const Q=74,w=34,q=32,ee=94,te=700,se=5,ae=(t,o)=>({cellStyle:(s,l)=>({backgroundColor:t(o[s][l]),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",padding:"4px",borderColor:_.G.sys.neutral.background1Level}),xLabelsStyle:()=>({fontSize:"12px",lineHeight:"10px",fontWeight:400,marginTop:"12px",color:_.G.sys.neutral.textSupport,padding:0,height:`${w-12}px`}),yLabelsStyle:()=>({width:`${w-8}px`,fontSize:"12px",marginRight:"8px",padding:"0",color:_.G.sys.neutral.textSupport})});var oe=e("./node_modules/.pnpm/lodash.range@3.2.0/node_modules/lodash.range/index.js"),ne=e.n(oe);const $=(t,o)=>{let s;const l=Math.floor(Math.log10(t)),a=t/Math.pow(10,l);return o?a<1.5?s=1:a<3?s=2:a<7?s=5:s=10:a<=1?s=1:a<=2?s=2:a<=5?s=5:s=10,s*Math.pow(10,l)},le=(t,o,s)=>{const l=$(s-o,!1),a=$(l/(t-1),!0),d=Math.floor(o/a)*a,f=Math.ceil(s/a)*a;return[a,d,f]},re=t=>{const[o,s]=t,[l,a,d]=le(se,o,s),f=ne()(a,d,l).filter(m=>m>1?Math.floor(m)>o:m>o);return[...new Set([o,...f,s])].map(m=>m===0?"0":m<1?m.toFixed(1):String(Math.floor(m)))},ie=({rgb:t,darkColor:o,lightColor:s})=>{const l=t.split(/\(([^)]+)\)/)[1].replace(/ /g,""),[a,d,f]=l.split(",");return(Math.round(parseInt(a)*299)+Math.round(parseInt(d)*587)+Math.round(parseInt(f)*114))/1e3>=152?o:s};var de=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ce=e.n(de),pe=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/styleDomAPI.js"),me=e.n(pe),ue=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/insertBySelector.js"),ge=e.n(ue),he=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),fe=e.n(he),xe=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/insertStyleElement.js"),ye=e.n(xe),_e=e("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9_esbuild@0.25.12_/node_modules/style-loader/dist/runtime/styleTagTransform.js"),ve=e.n(_e),I=e("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.99.9_esbuild@0.25.12_/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.97.3_webpack@5.99.9_esbuild@0.25.12_/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./packages/charts/src/components/HeatMapChart/styles.module.scss"),C={};C.styleTagTransform=ve(),C.setAttributes=fe(),C.insert=ge().bind(null,"head"),C.domAPI=me(),C.insertStyleElement=ye();var Be=ce()(I.A,C);const p=I.A&&I.A.locals?I.A.locals:void 0;function E({data:t,options:o,className:s,...l}){var a;const{title:d,height:f=te,axes:m={},formatter:P,legend:Y,domain:O,cellRender:Ee,styles:A}=o,{xAxis:r,yAxis:u}=m,B=(r==null?void 0:r.position)||h.Bottom,K=(a=Y==null?void 0:Y.show)!=null?a:!0,T=(0,i.useRef)(null),{theme:Ae}=(0,S.D)(),[j,Te]=(0,i.useState)(["#ffffff","#000000"]),[Me,Le]=(0,i.useState)("#ffffff"),[ke,je]=(0,i.useState)("#000000");(0,Z.N)(()=>{if(!T.current)return;const c=H(T.current,"--range-start"),M=H(T.current,"--range-end"),g=H(T.current,"--light-text"),F=H(T.current,"--dark-text");Te([c,M]),Le(g),je(F)},[Ae]);const V=(0,i.useMemo)(()=>(0,W.A)(j).domain(O),[j,O]),z=(0,i.useMemo)(()=>ae(V,t),[V,t]),De=(0,i.useMemo)(()=>re(O),[O]),He=(0,i.useMemo)(()=>{var c;const M=d?Q:0,g=(c=r==null?void 0:r.ticks)!=null&&c.length?w:0,F=u!=null&&u.ticks?q:0,Oe=K?ee:0;return`${(f-48-M-g-F-Oe)/t.length}px`},[t,f,d,r,u,K]),Ie=(0,i.useMemo)(()=>`linear-gradient(90deg, ${j.map((M,g)=>`${M} ${g*(100/(j.length-1))}%`)})`,[j]),Pe=(0,i.useCallback)(c=>P&&typeof P=="function"?P(c):c,[P]);return(0,n.jsxs)("div",{className:N()(p.wrapper,s),...(0,U.z)(l),ref:T,style:{"--range-start":_.G.sys.primary.decorDisabled,"--range-end":_.G.sys.primary.accentDefault,"--light-text":_.G.ref.brand[90],"--dark-text":_.G.ref.brand[30]},children:[d&&(0,n.jsx)("h3",{className:p.title,children:d}),(r==null?void 0:r.label)&&B===h.Top&&(0,n.jsx)("div",{className:p.xAxisLabel,children:r.label}),(0,n.jsxs)("div",{className:p.gridWrapper,"data-grid":!!(u!=null&&u.label)||void 0,children:[(u==null?void 0:u.label)&&(0,n.jsx)("div",{className:p.yAxisLabel,"data-x-axis-position":B,children:u.label}),(0,n.jsx)(G.h,{data:t,xLabels:r==null?void 0:r.ticks,yLabels:u==null?void 0:u.ticks,xLabelsPos:B,yLabelsPos:"left",cellRender:Ee||((c,M,g)=>(0,n.jsx)("h5",{className:p.cell,title:String(g),style:{"--color":ie({lightColor:Me,darkColor:ke,rgb:V(g)})},children:Pe(g)})),xLabelsStyle:(A==null?void 0:A.xLabelsStyle)||z.xLabelsStyle,yLabelsStyle:(A==null?void 0:A.yLabelsStyle)||z.yLabelsStyle,cellStyle:(A==null?void 0:A.cellStyle)||z.cellStyle,cellHeight:He})]}),(r==null?void 0:r.label)&&B===h.Bottom&&(0,n.jsx)("div",{className:p.xAxisLabel,children:r.label}),K&&(0,n.jsxs)("div",{className:p.legend,children:[(0,n.jsx)(D.c,{}),(0,n.jsx)("div",{className:p.gradient,style:{"--gradient":Ie}}),(0,n.jsx)("div",{className:p.legendTicksWrapper,children:De.map(c=>(0,n.jsx)("span",{className:p.tick,children:c},c))})]})]})}E.xAxisPositions=h;try{E.displayName="HeatMapChart",E.__docgenInfo={description:"",displayName:"HeatMapChart",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"number[][]"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"HeatMapChartOptions"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/charts/src/components/HeatMapChart/HeatMapChart.tsx#HeatMapChart"]={docgenInfo:E.__docgenInfo,name:"HeatMapChart",path:"packages/charts/src/components/HeatMapChart/HeatMapChart.tsx#HeatMapChart"})}catch(t){}var be={title:"Console/Charts/Heat Map Chart",component:E};function Se({xAxisPosition:t,showLegend:o,height:s,...l}){var a;const d={...l,options:{...l.options,height:s,legend:{...l.options.legend,show:o},axes:{...l.options.axes,xAxis:{...(a=l.options.axes)==null?void 0:a.xAxis,position:t}}}};return(0,n.jsx)(E,{...d})}const X=[[.8793309438470729,.1003584229390681,0,.015531660692951015,.0023894862604540022,.0023894862604540022],[.11860174781523096,.8401997503121099,.006242197253433208,.02372034956304619,.008739076154806492,.0024968789013732834],[.0025188916876574307,.0012594458438287153,.9370277078085643,.0025188916876574307,.0025188916876574307,.05415617128463476],[.018469656992084433,.010554089709762533,.002638522427440633,.9617414248021108,.002638522427440633,.00395778364116095],[.009247027741083224,.005284015852047556,0,0,.9854689564068693,0],[0,0,.07113543091655267,0,.0027359781121751026,.9261285909712722]],J=Array.from({length:X.length},(t,o)=>String(o)),Ce={render:Se,args:{data:X,options:{title:"Confusion Matrix",domain:[0,1],axes:{xAxis:{label:"y_pred",ticks:J},yAxis:{label:"y_true",ticks:J}},formatter:t=>t.toPrecision(2)},xAxisPosition:h.Bottom,showLegend:!0,height:700},argTypes:{xAxisPosition:{name:"[Stories]: xAxis position",options:[h.Bottom,h.Top],control:{type:"radio"}},showLegend:{name:"[Stories]: show or hide legend",control:{type:"boolean"}},height:{name:"[Stories]: Height",control:{type:"number"}}},parameters:{readme:{sidebar:[`Latest version: ${b.rE}`,y,x]},packageName:b.UU,design:{type:"figma",url:"https://www.figma.com/file/gCc4XarYocwWbficnQPInC/%F0%9F%93%9A-%5BLIB%5D-Platform-Design-System?node-id=900%3A13657"},badges:[L.yq.BETA]}}}),"./packages/utils/src/hooks/useTheme.ts":((R,v,e)=>{e.d(v,{D:()=>k});var n=e("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),L=e("./node_modules/.pnpm/@snack-uikit+utils@3.5.0_react@18.2.0/node_modules/@snack-uikit/utils/dist/esm/utils/isBrowser.js"),x=e("./packages/utils/src/constants/environment.ts"),b=e("./packages/utils/src/helpers/tryParseJson.ts"),y=e("./packages/utils/src/hooks/private/getCustomStore.ts");const k=()=>{const N=(0,y.H)(),[W,i]=(0,n.useState)(N.theme||x.q.THEME);(0,n.useEffect)(()=>{const S=U=>{const D=(0,b.B)(U.data);D.key===x.f.changeThemeDone&&i(D.value)};return window.addEventListener("message",S,!1),()=>window.removeEventListener("message",S,!1)},[]);const G=(0,n.useCallback)(S=>{(0,L.B)()&&window.postMessage(JSON.stringify({key:x.f.changeTheme,value:S}),location.origin)},[]);return{theme:W,changeTheme:G}}})}]);})();
